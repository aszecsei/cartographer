parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"6wMm":[function(require,module,exports) {
"use strict";exports.__esModule=!0;var t=function(){return function(t,e){this.x=t,this.y=e}}();exports.Vec2=t;
},{}],"5//G":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;const t=Math.pow(2,-52),s=new Uint32Array(512);class i{static from(t,s=c,e=f){const h=t.length,n=new Float64Array(2*h);for(let i=0;i<h;i++){const h=t[i];n[2*i]=s(h),n[2*i+1]=e(h)}return new i(n)}constructor(t){const s=t.length>>1;if(s>0&&"number"!=typeof t[0])throw new Error("Expected coords to contain numbers.");this.coords=t;const i=Math.max(2*s-5,0);this._triangles=new Uint32Array(3*i),this._halfedges=new Int32Array(3*i),this._hashSize=Math.ceil(Math.sqrt(s)),this._hullPrev=new Uint32Array(s),this._hullNext=new Uint32Array(s),this._hullTri=new Uint32Array(s),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(s),this._dists=new Float64Array(s),this.update()}update(){const{coords:s,_hullPrev:i,_hullNext:e,_hullTri:r,_hullHash:_}=this,c=s.length>>1;let f=1/0,u=1/0,d=-1/0,g=-1/0;for(let t=0;t<c;t++){const i=s[2*t],e=s[2*t+1];i<f&&(f=i),e<u&&(u=e),i>d&&(d=i),e>g&&(g=e),this._ids[t]=t}const y=(f+d)/2,w=(u+g)/2;let b,A,k,x=1/0;for(let t=0;t<c;t++){const i=h(y,w,s[2*t],s[2*t+1]);i<x&&(b=t,x=i)}const S=s[2*b],z=s[2*b+1];x=1/0;for(let t=0;t<c;t++){if(t===b)continue;const i=h(S,z,s[2*t],s[2*t+1]);i<x&&i>0&&(A=t,x=i)}let M=s[2*A],U=s[2*A+1],p=1/0;for(let t=0;t<c;t++){if(t===b||t===A)continue;const i=l(S,z,M,U,s[2*t],s[2*t+1]);i<p&&(k=t,p=i)}let T=s[2*k],K=s[2*k+1];if(p===1/0){for(let e=0;e<c;e++)this._dists[e]=s[2*e]-s[0]||s[2*e+1]-s[1];o(this._ids,this._dists,0,c-1);const t=new Uint32Array(c);let i=0;for(let s=0,e=-1/0;s<c;s++){const h=this._ids[s];this._dists[h]>e&&(t[i++]=h,e=this._dists[h])}return this.hull=t.subarray(0,i),this.triangles=new Uint32Array(0),void(this.halfedges=new Uint32Array(0))}if(n(S,z,M,U,T,K)){const t=A,s=M,i=U;A=k,M=T,U=K,k=t,T=s,K=i}const v=a(S,z,M,U,T,K);this._cx=v.x,this._cy=v.y;for(let t=0;t<c;t++)this._dists[t]=h(s[2*t],s[2*t+1],v.x,v.y);o(this._ids,this._dists,0,c-1),this._hullStart=b;let L=3;e[b]=i[k]=A,e[A]=i[b]=k,e[k]=i[A]=b,r[b]=0,r[A]=1,r[k]=2,_.fill(-1),_[this._hashKey(S,z)]=b,_[this._hashKey(M,U)]=A,_[this._hashKey(T,K)]=k,this.trianglesLen=0,this._addTriangle(b,A,k,-1,-1,-1);for(let h,l,a=0;a<this._ids.length;a++){const o=this._ids[a],c=s[2*o],f=s[2*o+1];if(a>0&&Math.abs(c-h)<=t&&Math.abs(f-l)<=t)continue;if(h=c,l=f,o===b||o===A||o===k)continue;let u=0;for(let t=0,s=this._hashKey(c,f);t<this._hashSize&&(-1===(u=_[(s+t)%this._hashSize])||u===e[u]);t++);let d,g=u=i[u];for(;d=e[g],!n(c,f,s[2*g],s[2*g+1],s[2*d],s[2*d+1]);)if((g=d)===u){g=-1;break}if(-1===g)continue;let y=this._addTriangle(g,o,e[g],-1,-1,r[g]);r[o]=this._legalize(y+2),r[g]=y,L++;let w=e[g];for(;d=e[w],n(c,f,s[2*w],s[2*w+1],s[2*d],s[2*d+1]);)y=this._addTriangle(w,o,d,r[o],-1,r[w]),r[o]=this._legalize(y+2),e[w]=w,L--,w=d;if(g===u)for(;n(c,f,s[2*(d=i[g])],s[2*d+1],s[2*g],s[2*g+1]);)y=this._addTriangle(d,o,g,-1,r[g],r[d]),this._legalize(y+2),r[d]=y,e[g]=g,L--,g=d;this._hullStart=i[o]=g,e[g]=i[w]=o,e[o]=w,_[this._hashKey(c,f)]=o,_[this._hashKey(s[2*g],s[2*g+1])]=g}this.hull=new Uint32Array(L);for(let t=0,h=this._hullStart;t<L;t++)this.hull[t]=h,h=e[h];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(t,s){return Math.floor(e(t-this._cx,s-this._cy)*this._hashSize)%this._hashSize}_legalize(t){const{_triangles:i,_halfedges:e,coords:h}=this;let n=0,l=0;for(;;){const a=e[t],o=t-t%3;if(l=o+(t+2)%3,-1===a){if(0===n)break;t=s[--n];continue}const _=a-a%3,c=o+(t+1)%3,f=_+(a+2)%3,u=i[l],d=i[t],g=i[c],y=i[f];if(r(h[2*u],h[2*u+1],h[2*d],h[2*d+1],h[2*g],h[2*g+1],h[2*y],h[2*y+1])){i[t]=y,i[a]=u;const h=e[f];if(-1===h){let s=this._hullStart;do{if(this._hullTri[s]===f){this._hullTri[s]=t;break}s=this._hullPrev[s]}while(s!==this._hullStart)}this._link(t,h),this._link(a,e[l]),this._link(l,f);const r=_+(a+1)%3;n<s.length&&(s[n++]=r)}else{if(0===n)break;t=s[--n]}}return l}_link(t,s){this._halfedges[t]=s,-1!==s&&(this._halfedges[s]=t)}_addTriangle(t,s,i,e,h,n){const r=this.trianglesLen;return this._triangles[r]=t,this._triangles[r+1]=s,this._triangles[r+2]=i,this._link(r,e),this._link(r+1,h),this._link(r+2,n),this.trianglesLen+=3,r}}function e(t,s){const i=t/(Math.abs(t)+Math.abs(s));return(s>0?3-i:1+i)/4}function h(t,s,i,e){const h=t-i,n=s-e;return h*h+n*n}function n(t,s,i,e,h,n){return(e-s)*(h-i)-(i-t)*(n-e)<0}function r(t,s,i,e,h,n,r,l){const a=t-r,o=s-l,_=i-r,c=e-l,f=h-r,u=n-l,d=_*_+c*c,g=f*f+u*u;return a*(c*g-d*u)-o*(_*g-d*f)+(a*a+o*o)*(_*u-c*f)<0}function l(t,s,i,e,h,n){const r=i-t,l=e-s,a=h-t,o=n-s,_=r*r+l*l,c=a*a+o*o,f=.5/(r*o-l*a),u=(o*_-l*c)*f,d=(r*c-a*_)*f;return u*u+d*d}function a(t,s,i,e,h,n){const r=i-t,l=e-s,a=h-t,o=n-s,_=r*r+l*l,c=a*a+o*o,f=.5/(r*o-l*a);return{x:t+(o*_-l*c)*f,y:s+(r*c-a*_)*f}}function o(t,s,i,e){if(e-i<=20)for(let h=i+1;h<=e;h++){const e=t[h],n=s[e];let r=h-1;for(;r>=i&&s[t[r]]>n;)t[r+1]=t[r--];t[r+1]=e}else{let h=i+1,n=e;_(t,i+e>>1,h),s[t[i]]>s[t[e]]&&_(t,i,e),s[t[h]]>s[t[e]]&&_(t,h,e),s[t[i]]>s[t[h]]&&_(t,i,h);const r=t[h],l=s[r];for(;;){do{h++}while(s[t[h]]<l);do{n--}while(s[t[n]]>l);if(n<h)break;_(t,h,n)}t[i+1]=t[n],t[n]=r,e-h+1>=n-i?(o(t,s,h,e),o(t,s,i,n-1)):(o(t,s,i,n-1),o(t,s,h,e))}}function _(t,s,i){const e=t[s];t[s]=t[i],t[i]=e}function c(t){return t[0]}function f(t){return t[1]}exports.default=i;
},{}],"b21u":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;const t=1e-6;class s{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(t,s){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+s}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(t,s){this._+=`L${this._x1=+t},${this._y1=+s}`}arc(s,i,h){const _=(s=+s)+(h=+h),e=i=+i;if(h<0)throw new Error("negative radius");null===this._x1?this._+=`M${_},${e}`:(Math.abs(this._x1-_)>t||Math.abs(this._y1-e)>t)&&(this._+="L"+_+","+e),h&&(this._+=`A${h},${h},0,1,1,${s-h},${i}A${h},${h},0,1,1,${this._x1=_},${this._y1=e}`)}rect(t,s,i,h){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+s}h${+i}v${+h}h${-i}Z`}value(){return this._||null}}exports.default=s;
},{}],"LwIm":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;class s{constructor(){this._=[]}moveTo(s,t){this._.push([s,t])}closePath(){this._.push(this._[0].slice())}lineTo(s,t){this._.push([s,t])}value(){return this._.length?this._:null}}exports.default=s;
},{}],"WZ0m":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e(require("./path.js")),i=e(require("./polygon.js"));function e(t){return t&&t.__esModule?t:{default:t}}class n{constructor(t,[i,e,n,s]=[0,0,960,500]){if(!((n=+n)>=(i=+i)&&(s=+s)>=(e=+e)))throw new Error("invalid bounds");this.delaunay=t,this._circumcenters=new Float64Array(2*t.points.length),this.vectors=new Float64Array(2*t.points.length),this.xmax=n,this.xmin=i,this.ymax=s,this.ymin=e,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:t,hull:i,triangles:e},vectors:n}=this,s=this.circumcenters=this._circumcenters.subarray(0,e.length/3*2);for(let m=0,x=0,d=e.length;m<d;m+=3,x+=2){const i=2*e[m],n=2*e[m+1],h=2*e[m+2],l=t[i],r=t[i+1],o=t[n],a=t[n+1],c=t[h],u=t[h+1],d=l-o,y=l-c,g=r-a,f=r-u,_=l*l+r*r,p=_-o*o-a*a,v=_-c*c-u*u,w=2*(y*g-d*f);w?(s[x]=(g*v-f*p)/w,s[x+1]=(y*p-d*v)/w):(s[x]=(l+c)/2+1e8*f,s[x+1]=(r+u)/2-1e8*y)}let h,l,r,o=i[i.length-1],a=4*o,c=t[2*o],u=t[2*o+1];n.fill(0);for(let m=0;m<i.length;++m)h=a,l=c,r=u,a=4*(o=i[m]),c=t[2*o],u=t[2*o+1],n[h+2]=n[a]=r-u,n[h+3]=n[a+1]=c-l}render(i){const e=null==i?i=new t.default:void 0,{delaunay:{halfedges:n,inedges:s,hull:h},circumcenters:l,vectors:r}=this;if(h.length<=1)return null;for(let t=0,c=n.length;t<c;++t){const e=n[t];if(e<t)continue;const s=2*Math.floor(t/3),h=2*Math.floor(e/3),r=l[s],o=l[s+1],a=l[h],c=l[h+1];this._renderSegment(r,o,a,c,i)}let o,a=h[h.length-1];for(let t=0;t<h.length;++t){o=a,a=h[t];const e=2*Math.floor(s[a]/3),n=l[e],c=l[e+1],u=4*o,m=this._project(n,c,r[u+2],r[u+3]);m&&this._renderSegment(n,c,m[0],m[1],i)}return e&&e.value()}renderBounds(i){const e=null==i?i=new t.default:void 0;return i.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),e&&e.value()}renderCell(i,e){const n=null==e?e=new t.default:void 0,s=this._clip(i);if(null!==s){e.moveTo(s[0],s[1]);for(let t=2,i=s.length;t<i;t+=2)s[t]===s[t-2]&&s[t+1]===s[t-1]||e.lineTo(s[t],s[t+1]);return e.closePath(),n&&n.value()}}*cellPolygons(){const{delaunay:{points:t}}=this;for(let i=0,e=t.length/2;i<e;++i){const t=this.cellPolygon(i);t&&(yield t)}}cellPolygon(t){const e=new i.default;return this.renderCell(t,e),e.value()}_renderSegment(t,i,e,n,s){let h;const l=this._regioncode(t,i),r=this._regioncode(e,n);0===l&&0===r?(s.moveTo(t,i),s.lineTo(e,n)):(h=this._clipSegment(t,i,e,n,l,r))&&(s.moveTo(h[0],h[1]),s.lineTo(h[2],h[3]))}contains(t,i,e){return(i=+i)==i&&(e=+e)==e&&this.delaunay._step(t,i,e)===t}_cell(t){const{circumcenters:i,delaunay:{inedges:e,halfedges:n,triangles:s}}=this,h=e[t];if(-1===h)return null;const l=[];let r=h;do{const e=Math.floor(r/3);if(l.push(i[2*e],i[2*e+1]),s[r=r%3==2?r-2:r+1]!==t)break;r=n[r]}while(r!==h&&-1!==r);return l}_clip(t){if(0===t&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const i=this._cell(t);if(null===i)return null;const{vectors:e}=this,n=4*t;return e[n]||e[n+1]?this._clipInfinite(t,i,e[n],e[n+1],e[n+2],e[n+3]):this._clipFinite(t,i)}_clipFinite(t,i){const e=i.length;let n,s,h,l,r,o=null,a=i[e-2],c=i[e-1],u=this._regioncode(a,c);for(let m=0;m<e;m+=2)if(n=a,s=c,a=i[m],c=i[m+1],h=u,u=this._regioncode(a,c),0===h&&0===u)l=r,r=0,o?o.push(a,c):o=[a,c];else{let i,e,m,x,d;if(0===h){if(null===(i=this._clipSegment(n,s,a,c,h,u)))continue;[e,m,x,d]=i}else{if(null===(i=this._clipSegment(a,c,n,s,u,h)))continue;[x,d,e,m]=i,l=r,r=this._edgecode(e,m),l&&r&&this._edge(t,l,r,o,o.length),o?o.push(e,m):o=[e,m]}l=r,r=this._edgecode(x,d),l&&r&&this._edge(t,l,r,o,o.length),o?o.push(x,d):o=[x,d]}if(o)l=r,r=this._edgecode(o[0],o[1]),l&&r&&this._edge(t,l,r,o,o.length);else if(this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return o}_clipSegment(t,i,e,n,s,h){for(;;){if(0===s&&0===h)return[t,i,e,n];if(s&h)return null;let l,r,o=s||h;8&o?(l=t+(e-t)*(this.ymax-i)/(n-i),r=this.ymax):4&o?(l=t+(e-t)*(this.ymin-i)/(n-i),r=this.ymin):2&o?(r=i+(n-i)*(this.xmax-t)/(e-t),l=this.xmax):(r=i+(n-i)*(this.xmin-t)/(e-t),l=this.xmin),s?(t=l,i=r,s=this._regioncode(t,i)):(e=l,n=r,h=this._regioncode(e,n))}}_clipInfinite(t,i,e,n,s,h){let l,r=Array.from(i);if((l=this._project(r[0],r[1],e,n))&&r.unshift(l[0],l[1]),(l=this._project(r[r.length-2],r[r.length-1],s,h))&&r.push(l[0],l[1]),r=this._clipFinite(t,r))for(let o,a=0,c=r.length,u=this._edgecode(r[c-2],r[c-1]);a<c;a+=2)o=u,u=this._edgecode(r[a],r[a+1]),o&&u&&(a=this._edge(t,o,u,r,a),c=r.length);else this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(r=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return r}_edge(t,i,e,n,s){for(;i!==e;){let e,h;switch(i){case 5:i=4;continue;case 4:i=6,e=this.xmax,h=this.ymin;break;case 6:i=2;continue;case 2:i=10,e=this.xmax,h=this.ymax;break;case 10:i=8;continue;case 8:i=9,e=this.xmin,h=this.ymax;break;case 9:i=1;continue;case 1:i=5,e=this.xmin,h=this.ymin}n[s]===e&&n[s+1]===h||!this.contains(t,e,h)||(n.splice(s,0,e,h),s+=2)}return s}_project(t,i,e,n){let s,h,l,r=1/0;if(n<0){if(i<=this.ymin)return null;(s=(this.ymin-i)/n)<r&&(l=this.ymin,h=t+(r=s)*e)}else if(n>0){if(i>=this.ymax)return null;(s=(this.ymax-i)/n)<r&&(l=this.ymax,h=t+(r=s)*e)}if(e>0){if(t>=this.xmax)return null;(s=(this.xmax-t)/e)<r&&(h=this.xmax,l=i+(r=s)*n)}else if(e<0){if(t<=this.xmin)return null;(s=(this.xmin-t)/e)<r&&(h=this.xmin,l=i+(r=s)*n)}return[h,l]}_edgecode(t,i){return(t===this.xmin?1:t===this.xmax?2:0)|(i===this.ymin?4:i===this.ymax?8:0)}_regioncode(t,i){return(t<this.xmin?1:t>this.xmax?2:0)|(i<this.ymin?4:i>this.ymax?8:0)}}exports.default=n;
},{"./path.js":"b21u","./polygon.js":"LwIm"}],"0U7i":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("delaunator")),t=r(require("./path.js")),n=r(require("./polygon.js")),l=r(require("./voronoi.js"));function r(e){return e&&e.__esModule?e:{default:e}}const i=2*Math.PI;function o(e){return e[0]}function s(e){return e[1]}function h(e,t){let n,l,r=e.length,i=t[2*e[r-1]],o=t[2*e[r-1]+1],s=0;for(let h=0;h<r;h++)n=i,s+=(l=o)*(i=t[2*e[h]])-n*(o=t[2*e[h]+1]);return s/2}function a(e,t,n){return[e+Math.sin(e+t)*n,t+Math.cos(e-t)*n]}class u{constructor(t){this._delaunator=new e.default(t),this.inedges=new Int32Array(t.length/2),this._hullIndex=new Int32Array(t.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const t=this._delaunator,n=this.points;if(t.hull&&t.hull.length>2&&h(t.hull,n)<1e-10){this.collinear=Int32Array.from({length:n.length/2},(e,t)=>t).sort((e,t)=>n[2*e]-n[2*t]||n[2*e+1]-n[2*t+1]);const t=this.collinear[0],l=this.collinear[this.collinear.length-1],r=[n[2*t],n[2*t+1],n[2*l],n[2*l+1]],i=1e-8*Math.sqrt((r[3]-r[1])**2+(r[2]-r[0])**2);for(let e=0,o=n.length/2;e<o;++e){const t=a(n[2*e],n[2*e+1],i);n[2*e]=t[0],n[2*e+1]=t[1]}this._delaunator=new e.default(n)}else delete this.collinear;const l=this.halfedges=this._delaunator.halfedges,r=this.hull=this._delaunator.hull,i=this.triangles=this._delaunator.triangles,o=this.inedges.fill(-1),s=this._hullIndex.fill(-1);for(let e=0,h=l.length;e<h;++e){const t=i[e%3==2?e-2:e+1];-1!==l[e]&&-1!==o[t]||(o[t]=e)}for(let e=0,h=r.length;e<h;++e)s[r[e]]=e;r.length<=2&&r.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=r[0],this.triangles[1]=r[1],this.triangles[2]=r[1],o[r[0]]=1,2===r.length&&(o[r[1]]=0))}voronoi(e){return new l.default(this,e)}*neighbors(e){const{inedges:t,hull:n,_hullIndex:l,halfedges:r,triangles:i}=this;if(this.collinear){const t=this.collinear.indexOf(e);return t>0&&(yield this.collinear[t-1]),void(t<this.collinear.length-1&&(yield this.collinear[t+1]))}const o=t[e];if(-1===o)return;let s=o,h=-1;do{if(yield h=i[s],i[s=s%3==2?s-2:s+1]!==e)return;if(-1===(s=r[s])){const t=n[(l[e]+1)%n.length];return void(t!==h&&(yield t))}}while(s!==o)}find(e,t,n=0){if((e=+e)!=e||(t=+t)!=t)return-1;const l=n;let r;for(;(r=this._step(n,e,t))>=0&&r!==n&&r!==l;)n=r;return r}_step(e,t,n){const{inedges:l,hull:r,_hullIndex:i,halfedges:o,triangles:s,points:h}=this;if(-1===l[e]||!h.length)return(e+1)%(h.length>>1);let a=e,u=(t-h[2*e])**2+(n-h[2*e+1])**2;const d=l[e];let c=d;do{let l=s[c];const d=(t-h[2*l])**2+(n-h[2*l+1])**2;if(d<u&&(u=d,a=l),s[c=c%3==2?c-2:c+1]!==e)break;if(-1===(c=o[c])){if((c=r[(i[e]+1)%r.length])!==l&&(t-h[2*c])**2+(n-h[2*c+1])**2<u)return c;break}}while(c!==d);return a}render(e){const n=null==e?e=new t.default:void 0,{points:l,halfedges:r,triangles:i}=this;for(let t=0,o=r.length;t<o;++t){const n=r[t];if(n<t)continue;const o=2*i[t],s=2*i[n];e.moveTo(l[o],l[o+1]),e.lineTo(l[s],l[s+1])}return this.renderHull(e),n&&n.value()}renderPoints(e,n=2){const l=null==e?e=new t.default:void 0,{points:r}=this;for(let t=0,o=r.length;t<o;t+=2){const l=r[t],o=r[t+1];e.moveTo(l+n,o),e.arc(l,o,n,0,i)}return l&&l.value()}renderHull(e){const n=null==e?e=new t.default:void 0,{hull:l,points:r}=this,i=2*l[0],o=l.length;e.moveTo(r[i],r[i+1]);for(let t=1;t<o;++t){const n=2*l[t];e.lineTo(r[n],r[n+1])}return e.closePath(),n&&n.value()}hullPolygon(){const e=new n.default;return this.renderHull(e),e.value()}renderTriangle(e,n){const l=null==n?n=new t.default:void 0,{points:r,triangles:i}=this,o=2*i[e*=3],s=2*i[e+1],h=2*i[e+2];return n.moveTo(r[o],r[o+1]),n.lineTo(r[s],r[s+1]),n.lineTo(r[h],r[h+1]),n.closePath(),l&&l.value()}*trianglePolygons(){const{triangles:e}=this;for(let t=0,n=e.length/3;t<n;++t)yield this.trianglePolygon(t)}trianglePolygon(e){const t=new n.default;return this.renderTriangle(e,t),t.value()}}function d(e,t,n,l){const r=e.length,i=new Float64Array(2*r);for(let o=0;o<r;++o){const r=e[o];i[2*o]=t.call(l,r,o,e),i[2*o+1]=n.call(l,r,o,e)}return i}function*c(e,t,n,l){let r=0;for(const i of e)yield t.call(l,i,r,e),yield n.call(l,i,r,e),++r}exports.default=u,u.from=function(e,t=o,n=s,l){return new u("length"in e?d(e,t,n,l):Float64Array.from(c(e,t,n,l)))};
},{"delaunator":"5//G","./path.js":"b21u","./polygon.js":"LwIm","./voronoi.js":"WZ0m"}],"fQOh":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"Delaunay",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(exports,"Voronoi",{enumerable:!0,get:function(){return r.default}});var e=t(require("./delaunay.js")),r=t(require("./voronoi.js"));function t(e){return e&&e.__esModule?e:{default:e}}
},{"./delaunay.js":"0U7i","./voronoi.js":"WZ0m"}],"ZCfc":[function(require,module,exports) {
"use strict";exports.__esModule=!0;var e=require("./math/vec2"),r=require("d3-delaunay"),t=5e3,n=1280,o=720,l=10,a=["black","blue","red","purple","green","teal","navy","yellow","magenta","white","pink"],i=10,u=document.getElementById("canvas"),h=u.getContext("2d");function c(e){return Math.floor(Math.random()*e.length)}function f(){for(var e=new Array(t),r=0;r<t;r++)e[r]={loc:{x:Math.random()*n,y:Math.random()*o},plateId:-1,height:0};return e}function g(e,r){return Math.sqrt(Math.pow(e.x-r.x,2)+Math.pow(e.y-r.y,2))}function v(e){for(var r=e.slice(),t=[],n=0;n<l;n++){var o=c(r);(a=r.splice(o,1)[0]).plateId=n,t.push(a)}for(;r.length>0;){o=c(r);var a=r.splice(o,1)[0],i=-1,u=0,h=t.length;for(n=0;n<h;n++){var f=g(t[n].loc,a.loc);(-1==i||f<u)&&(u=f,i=n)}a.plateId=t[i].plateId,t.push(a)}return t}function d(e){for(var r=[],n=[],o=0;o<t;o++)n.push(e.cellPolygon(o));var l=function(t){var o=e.cellPolygon(t),l=n.map(function(e,r){return{val:e,idx:r}}).filter(function(e){return 2==e.val.filter(function(e){return o.filter(function(r){return e[0]==r[0]&&e[1]==e[1]}).length>0}).length}).map(function(e){return e.idx});r.push(l)};for(o=0;o<t;o++)l(o);return r}function p(r,n){for(var o=[],a=0;a<l;a++)o.push(new e.Vec2(2*Math.random()-1,2*Math.random()-1));for(var u=d(r),h=0;h<i;h++)for(var c=0;c<t;c++)for(var f=n[c],g=0,v=u[c];g<v.length;g++){var p=n[v[g]],y=new e.Vec2(p.loc.x-f.loc.x,p.loc.y-f.loc.y),s=o[f.plateId];y.x*s.x+y.y*s.y>0?p.height-f.height<=3?p.height++:f.height++:f.height-p.height<=3?p.height--:f.height--}return n}function y(){var e=f();v(e);for(var a=e.map(function(e){return[e.loc.x,e.loc.y]}),i=r.Delaunay.from(a),u=i.voronoi([0,0,n,o]),c=0;c<t;c++){var g=u.cellPolygon(c);e[c].loc.x=g.reduce(function(e,r){return e+r[0]},0)/g.length,e[c].loc.y=g.reduce(function(e,r){return e+r[1]},0)/g.length}a=e.map(function(e){return[e.loc.x,e.loc.y]}),i=r.Delaunay.from(a),p(u=i.voronoi([0,0,n,o]),e);var d=e.reduce(function(e,r){return r.height<e?r.height:e},e[0].height),y=e.reduce(function(e,r){return r.height>e?r.height:e},e[0].height);h.clearRect(0,0,800,600),h.strokeStyle="black";for(var s=function(r){console.log("Rendering "+h.fillStyle);for(var t=e.map(function(e,r){return{p:e,idx:r}}).filter(function(e){return e.p.plateId===r}),n=t.length,o=0;o<n;o++){h.beginPath();var l=t[o];u.renderCell(l.idx,h);var a=(l.p.height-d)/(y-d)*100;h.fillStyle="rgb("+a+"%, "+a+"%, "+a+"%)",h.fill(),h.stroke()}},m=0;m<l;m++)s(m)}y();
},{"./math/vec2":"6wMm","d3-delaunay":"fQOh"}]},{},["ZCfc"], null)
//# sourceMappingURL=https://aszecsei.github.io/cartographer/main.bed6c3dc.js.map