{"version":3,"sources":["math/vec2.ts","../node_modules/delaunator/index.js","../node_modules/d3-delaunay/src/path.js","../node_modules/d3-delaunay/src/polygon.js","../node_modules/d3-delaunay/src/voronoi.js","../node_modules/d3-delaunay/src/delaunay.js","../node_modules/d3-delaunay/src/index.js","../node_modules/@ctrl/tinycolor/dist/es/util.js","../node_modules/@ctrl/tinycolor/dist/es/conversion.js","../node_modules/@ctrl/tinycolor/dist/es/css-color-names.js","../node_modules/@ctrl/tinycolor/dist/es/format-input.js","../node_modules/@ctrl/tinycolor/dist/es/index.js","../node_modules/@ctrl/tinycolor/dist/es/readability.js","../node_modules/@ctrl/tinycolor/dist/es/to-ms-filter.js","../node_modules/@ctrl/tinycolor/dist/es/from-ratio.js","../node_modules/@ctrl/tinycolor/dist/es/random.js","../node_modules/@ctrl/tinycolor/dist/es/public_api.js","main.ts"],"names":["EPSILON","Math","pow","EDGE_STACK","Uint32Array","Delaunator","from","points","getX","defaultGetX","getY","defaultGetY","n","length","coords","Float64Array","i","p","constructor","Error","maxTriangles","max","_triangles","_halfedges","Int32Array","_hashSize","ceil","sqrt","_hullPrev","_hullNext","_hullTri","_hullHash","fill","_ids","_dists","update","hullPrev","hullNext","hullTri","hullHash","minX","Infinity","minY","maxX","maxY","x","y","cx","cy","minDist","i0","i1","i2","d","dist","i0x","i0y","i1x","i1y","minRadius","r","circumradius","i2x","i2y","quicksort","hull","j","d0","id","subarray","triangles","halfedges","orient","center","circumcenter","_cx","_cy","_hullStart","hullSize","_hashKey","trianglesLen","_addTriangle","xp","yp","k","abs","start","key","e","q","t","_legalize","floor","pseudoAngle","a","ar","b","a0","b0","al","bl","p0","pr","pl","p1","illegal","inCircle","hbl","_link","br","c","dx","dy","ax","ay","bx","by","px","py","qx","qy","rx","ry","ex","ey","fx","fy","bp","cp","cl","ids","dists","left","right","temp","tempDist","swap","arr","tmp","epsilon","Path","_x0","_y0","_x1","_y1","_","moveTo","closePath","lineTo","arc","x0","y0","rect","w","h","value","Polygon","push","slice","Voronoi","delaunay","xmin","ymin","xmax","ymax","_circumcenters","vectors","_init","circumcenters","t1","t2","t3","x1","y1","x2","y2","x3","y3","a2","a3","b2","b3","d1","d2","d3","ab","render","context","buffer","undefined","inedges","ti","tj","xi","yi","xj","yj","_renderSegment","h0","h1","v","_project","renderBounds","renderCell","_clip","cellPolygons","cell","cellPolygon","polygon","S","c0","_regioncode","c1","_clipSegment","contains","_step","_cell","e0","V","_clipInfinite","_clipFinite","P","e1","sx0","sy0","sx1","sy1","_edgecode","_edge","vx0","vy0","vxn","vyn","Array","unshift","splice","vx","vy","tau","PI","pointX","pointY","area","jitter","sin","cos","Delaunay","_delaunator","_hullIndex","collinear","sort","f","bounds","hullIndex","voronoi","neighbors","l","indexOf","find","dc","dt","renderHull","renderPoints","hullPolygon","renderTriangle","t0","trianglePolygons","trianglePolygon","flatArray","that","array","call","flatIterable","bound01","isOnePointZero","processPercent","isPercentage","min","parseFloat","parseInt","String","clamp01","val","includes","boundAlpha","isNaN","convertToPercentage","Number","pad2","rgbToRgb","g","rgbToHsl","s","hslToRgb","hue2rgb","rgbToHsv","hsvToRgb","mod","rgbToHex","allow3Char","hex","round","toString","charAt","join","rgbaToHex","allow4Char","convertDecimalToHex","rgbaToArgbHex","convertHexToDecimal","parseIntFromHex","names","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","inputToRGB","color","rgb","ok","format","stringInputToObject","isValidCSSUnit","substr","Object","prototype","hasOwnProperty","CSS_INTEGER","CSS_NUMBER","CSS_UNIT","PERMISSIVE_MATCH3","PERMISSIVE_MATCH4","matchers","RegExp","rgba","hsl","hsla","hsv","hsva","hex3","hex6","hex4","hex8","trim","toLowerCase","named","match","exec","Boolean","TinyColor","opts","originalInput","roundA","gradientType","isValid","isDark","getBrightness","isLight","toRgb","getLuminance","RsRGB","GsRGB","BsRGB","getAlpha","setAlpha","alpha","toHsv","toHsvString","toHsl","toHslString","toHex","toHexString","toHex8","toHex8String","toRgbString","toPercentageRgb","fmt","toPercentageRgbString","rnd","toName","_i","_a","keys","formatSet","formattedString","hasAlpha","needsAlphaFormat","startsWith","clone","lighten","amount","brighten","darken","tint","mix","shade","desaturate","saturate","greyscale","spin","hue","rgb1","rgb2","analogous","results","slices","part","ret","complement","monochromatic","res","modification","splitcomplement","triad","polyad","tetrad","result","increment","equals","tinycolor","readability","color1","color2","c2","isReadable","wcag2","level","size","readabilityLevel","mostReadable","baseColor","colorList","args","includeFallbackColors","bestColor","bestScore","colorList_1","score","toMsFilter","firstColor","secondColor","hex8String","secondHex8String","fromRatio","ratio","newColor","legacyRandom","random","options","count","totalColors","colors","seed","pickHue","pickSaturation","pickBrightness","hueRange","randomWithin","getHueRange","luminosity","saturationRange","getColorInfo","sMin","sMax","H","bMin","getMinimumBrightness","bMax","lowerBounds","s1","v1","s2","v2","m","colorInput","num","namedColor","name","defineColor","parsed","bounds_1","bound","range","brightnessRange"],"mappings":"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","file":"main.2a3948ff.js","sourceRoot":"..\\src","sourcesContent":["export class Vec2 {\r\n  x: number;\r\n  y: number;\r\n\r\n  constructor(x: number, y: number) {\r\n    this.x = x;\r\n    this.y = y;\r\n  }\r\n}\r\n","\nconst EPSILON = Math.pow(2, -52);\nconst EDGE_STACK = new Uint32Array(512);\n\nexport default class Delaunator {\n\n    static from(points, getX = defaultGetX, getY = defaultGetY) {\n        const n = points.length;\n        const coords = new Float64Array(n * 2);\n\n        for (let i = 0; i < n; i++) {\n            const p = points[i];\n            coords[2 * i] = getX(p);\n            coords[2 * i + 1] = getY(p);\n        }\n\n        return new Delaunator(coords);\n    }\n\n    constructor(coords) {\n        const n = coords.length >> 1;\n        if (n > 0 && typeof coords[0] !== 'number') throw new Error('Expected coords to contain numbers.');\n\n        this.coords = coords;\n\n        // arrays that will store the triangulation graph\n        const maxTriangles = Math.max(2 * n - 5, 0);\n        this._triangles = new Uint32Array(maxTriangles * 3);\n        this._halfedges = new Int32Array(maxTriangles * 3);\n\n        // temporary arrays for tracking the edges of the advancing convex hull\n        this._hashSize = Math.ceil(Math.sqrt(n));\n        this._hullPrev = new Uint32Array(n); // edge to prev edge\n        this._hullNext = new Uint32Array(n); // edge to next edge\n        this._hullTri = new Uint32Array(n); // edge to adjacent triangle\n        this._hullHash = new Int32Array(this._hashSize).fill(-1); // angular edge hash\n\n        // temporary arrays for sorting points\n        this._ids = new Uint32Array(n);\n        this._dists = new Float64Array(n);\n\n        this.update();\n    }\n\n    update() {\n        const {coords, _hullPrev: hullPrev, _hullNext: hullNext, _hullTri: hullTri, _hullHash: hullHash} =  this;\n        const n = coords.length >> 1;\n\n        // populate an array of point indices; calculate input data bbox\n        let minX = Infinity;\n        let minY = Infinity;\n        let maxX = -Infinity;\n        let maxY = -Infinity;\n\n        for (let i = 0; i < n; i++) {\n            const x = coords[2 * i];\n            const y = coords[2 * i + 1];\n            if (x < minX) minX = x;\n            if (y < minY) minY = y;\n            if (x > maxX) maxX = x;\n            if (y > maxY) maxY = y;\n            this._ids[i] = i;\n        }\n        const cx = (minX + maxX) / 2;\n        const cy = (minY + maxY) / 2;\n\n        let minDist = Infinity;\n        let i0, i1, i2;\n\n        // pick a seed point close to the center\n        for (let i = 0; i < n; i++) {\n            const d = dist(cx, cy, coords[2 * i], coords[2 * i + 1]);\n            if (d < minDist) {\n                i0 = i;\n                minDist = d;\n            }\n        }\n        const i0x = coords[2 * i0];\n        const i0y = coords[2 * i0 + 1];\n\n        minDist = Infinity;\n\n        // find the point closest to the seed\n        for (let i = 0; i < n; i++) {\n            if (i === i0) continue;\n            const d = dist(i0x, i0y, coords[2 * i], coords[2 * i + 1]);\n            if (d < minDist && d > 0) {\n                i1 = i;\n                minDist = d;\n            }\n        }\n        let i1x = coords[2 * i1];\n        let i1y = coords[2 * i1 + 1];\n\n        let minRadius = Infinity;\n\n        // find the third point which forms the smallest circumcircle with the first two\n        for (let i = 0; i < n; i++) {\n            if (i === i0 || i === i1) continue;\n            const r = circumradius(i0x, i0y, i1x, i1y, coords[2 * i], coords[2 * i + 1]);\n            if (r < minRadius) {\n                i2 = i;\n                minRadius = r;\n            }\n        }\n        let i2x = coords[2 * i2];\n        let i2y = coords[2 * i2 + 1];\n\n        if (minRadius === Infinity) {\n            // order collinear points by dx (or dy if all x are identical)\n            // and return the list as a hull\n            for (let i = 0; i < n; i++) {\n                this._dists[i] = (coords[2 * i] - coords[0]) || (coords[2 * i + 1] - coords[1]);\n            }\n            quicksort(this._ids, this._dists, 0, n - 1);\n            const hull = new Uint32Array(n);\n            let j = 0;\n            for (let i = 0, d0 = -Infinity; i < n; i++) {\n                const id = this._ids[i];\n                if (this._dists[id] > d0) {\n                    hull[j++] = id;\n                    d0 = this._dists[id];\n                }\n            }\n            this.hull = hull.subarray(0, j);\n            this.triangles = new Uint32Array(0);\n            this.halfedges = new Uint32Array(0);\n            return;\n        }\n\n        // swap the order of the seed points for counter-clockwise orientation\n        if (orient(i0x, i0y, i1x, i1y, i2x, i2y)) {\n            const i = i1;\n            const x = i1x;\n            const y = i1y;\n            i1 = i2;\n            i1x = i2x;\n            i1y = i2y;\n            i2 = i;\n            i2x = x;\n            i2y = y;\n        }\n\n        const center = circumcenter(i0x, i0y, i1x, i1y, i2x, i2y);\n        this._cx = center.x;\n        this._cy = center.y;\n\n        for (let i = 0; i < n; i++) {\n            this._dists[i] = dist(coords[2 * i], coords[2 * i + 1], center.x, center.y);\n        }\n\n        // sort the points by distance from the seed triangle circumcenter\n        quicksort(this._ids, this._dists, 0, n - 1);\n\n        // set up the seed triangle as the starting hull\n        this._hullStart = i0;\n        let hullSize = 3;\n\n        hullNext[i0] = hullPrev[i2] = i1;\n        hullNext[i1] = hullPrev[i0] = i2;\n        hullNext[i2] = hullPrev[i1] = i0;\n\n        hullTri[i0] = 0;\n        hullTri[i1] = 1;\n        hullTri[i2] = 2;\n\n        hullHash.fill(-1);\n        hullHash[this._hashKey(i0x, i0y)] = i0;\n        hullHash[this._hashKey(i1x, i1y)] = i1;\n        hullHash[this._hashKey(i2x, i2y)] = i2;\n\n        this.trianglesLen = 0;\n        this._addTriangle(i0, i1, i2, -1, -1, -1);\n\n        for (let k = 0, xp, yp; k < this._ids.length; k++) {\n            const i = this._ids[k];\n            const x = coords[2 * i];\n            const y = coords[2 * i + 1];\n\n            // skip near-duplicate points\n            if (k > 0 && Math.abs(x - xp) <= EPSILON && Math.abs(y - yp) <= EPSILON) continue;\n            xp = x;\n            yp = y;\n\n            // skip seed triangle points\n            if (i === i0 || i === i1 || i === i2) continue;\n\n            // find a visible edge on the convex hull using edge hash\n            let start = 0;\n            for (let j = 0, key = this._hashKey(x, y); j < this._hashSize; j++) {\n                start = hullHash[(key + j) % this._hashSize];\n                if (start !== -1 && start !== hullNext[start]) break;\n            }\n\n            start = hullPrev[start];\n            let e = start, q;\n            while (q = hullNext[e], !orient(x, y, coords[2 * e], coords[2 * e + 1], coords[2 * q], coords[2 * q + 1])) {\n                e = q;\n                if (e === start) {\n                    e = -1;\n                    break;\n                }\n            }\n            if (e === -1) continue; // likely a near-duplicate point; skip it\n\n            // add the first triangle from the point\n            let t = this._addTriangle(e, i, hullNext[e], -1, -1, hullTri[e]);\n\n            // recursively flip triangles from the point until they satisfy the Delaunay condition\n            hullTri[i] = this._legalize(t + 2);\n            hullTri[e] = t; // keep track of boundary triangles on the hull\n            hullSize++;\n\n            // walk forward through the hull, adding more triangles and flipping recursively\n            let n = hullNext[e];\n            while (q = hullNext[n], orient(x, y, coords[2 * n], coords[2 * n + 1], coords[2 * q], coords[2 * q + 1])) {\n                t = this._addTriangle(n, i, q, hullTri[i], -1, hullTri[n]);\n                hullTri[i] = this._legalize(t + 2);\n                hullNext[n] = n; // mark as removed\n                hullSize--;\n                n = q;\n            }\n\n            // walk backward from the other side, adding more triangles and flipping\n            if (e === start) {\n                while (q = hullPrev[e], orient(x, y, coords[2 * q], coords[2 * q + 1], coords[2 * e], coords[2 * e + 1])) {\n                    t = this._addTriangle(q, i, e, -1, hullTri[e], hullTri[q]);\n                    this._legalize(t + 2);\n                    hullTri[q] = t;\n                    hullNext[e] = e; // mark as removed\n                    hullSize--;\n                    e = q;\n                }\n            }\n\n            // update the hull indices\n            this._hullStart = hullPrev[i] = e;\n            hullNext[e] = hullPrev[n] = i;\n            hullNext[i] = n;\n\n            // save the two new edges in the hash table\n            hullHash[this._hashKey(x, y)] = i;\n            hullHash[this._hashKey(coords[2 * e], coords[2 * e + 1])] = e;\n        }\n\n        this.hull = new Uint32Array(hullSize);\n        for (let i = 0, e = this._hullStart; i < hullSize; i++) {\n            this.hull[i] = e;\n            e = hullNext[e];\n        }\n\n        // trim typed triangle mesh arrays\n        this.triangles = this._triangles.subarray(0, this.trianglesLen);\n        this.halfedges = this._halfedges.subarray(0, this.trianglesLen);\n    }\n\n    _hashKey(x, y) {\n        return Math.floor(pseudoAngle(x - this._cx, y - this._cy) * this._hashSize) % this._hashSize;\n    }\n\n    _legalize(a) {\n        const {_triangles: triangles, _halfedges: halfedges, coords} = this;\n\n        let i = 0;\n        let ar = 0;\n\n        // recursion eliminated with a fixed-size stack\n        while (true) {\n            const b = halfedges[a];\n\n            /* if the pair of triangles doesn't satisfy the Delaunay condition\n             * (p1 is inside the circumcircle of [p0, pl, pr]), flip them,\n             * then do the same check/flip recursively for the new pair of triangles\n             *\n             *           pl                    pl\n             *          /||\\                  /  \\\n             *       al/ || \\bl            al/    \\a\n             *        /  ||  \\              /      \\\n             *       /  a||b  \\    flip    /___ar___\\\n             *     p0\\   ||   /p1   =>   p0\\---bl---/p1\n             *        \\  ||  /              \\      /\n             *       ar\\ || /br             b\\    /br\n             *          \\||/                  \\  /\n             *           pr                    pr\n             */\n            const a0 = a - a % 3;\n            ar = a0 + (a + 2) % 3;\n\n            if (b === -1) { // convex hull edge\n                if (i === 0) break;\n                a = EDGE_STACK[--i];\n                continue;\n            }\n\n            const b0 = b - b % 3;\n            const al = a0 + (a + 1) % 3;\n            const bl = b0 + (b + 2) % 3;\n\n            const p0 = triangles[ar];\n            const pr = triangles[a];\n            const pl = triangles[al];\n            const p1 = triangles[bl];\n\n            const illegal = inCircle(\n                coords[2 * p0], coords[2 * p0 + 1],\n                coords[2 * pr], coords[2 * pr + 1],\n                coords[2 * pl], coords[2 * pl + 1],\n                coords[2 * p1], coords[2 * p1 + 1]);\n\n            if (illegal) {\n                triangles[a] = p1;\n                triangles[b] = p0;\n\n                const hbl = halfedges[bl];\n\n                // edge swapped on the other side of the hull (rare); fix the halfedge reference\n                if (hbl === -1) {\n                    let e = this._hullStart;\n                    do {\n                        if (this._hullTri[e] === bl) {\n                            this._hullTri[e] = a;\n                            break;\n                        }\n                        e = this._hullPrev[e];\n                    } while (e !== this._hullStart);\n                }\n                this._link(a, hbl);\n                this._link(b, halfedges[ar]);\n                this._link(ar, bl);\n\n                const br = b0 + (b + 1) % 3;\n\n                // don't worry about hitting the cap: it can only happen on extremely degenerate input\n                if (i < EDGE_STACK.length) {\n                    EDGE_STACK[i++] = br;\n                }\n            } else {\n                if (i === 0) break;\n                a = EDGE_STACK[--i];\n            }\n        }\n\n        return ar;\n    }\n\n    _link(a, b) {\n        this._halfedges[a] = b;\n        if (b !== -1) this._halfedges[b] = a;\n    }\n\n    // add a new triangle given vertex indices and adjacent half-edge ids\n    _addTriangle(i0, i1, i2, a, b, c) {\n        const t = this.trianglesLen;\n\n        this._triangles[t] = i0;\n        this._triangles[t + 1] = i1;\n        this._triangles[t + 2] = i2;\n\n        this._link(t, a);\n        this._link(t + 1, b);\n        this._link(t + 2, c);\n\n        this.trianglesLen += 3;\n\n        return t;\n    }\n}\n\n// monotonically increases with real angle, but doesn't need expensive trigonometry\nfunction pseudoAngle(dx, dy) {\n    const p = dx / (Math.abs(dx) + Math.abs(dy));\n    return (dy > 0 ? 3 - p : 1 + p) / 4; // [0..1]\n}\n\nfunction dist(ax, ay, bx, by) {\n    const dx = ax - bx;\n    const dy = ay - by;\n    return dx * dx + dy * dy;\n}\n\nfunction orient(px, py, qx, qy, rx, ry) {\n    return (qy - py) * (rx - qx) - (qx - px) * (ry - qy) < 0;\n}\n\nfunction inCircle(ax, ay, bx, by, cx, cy, px, py) {\n    const dx = ax - px;\n    const dy = ay - py;\n    const ex = bx - px;\n    const ey = by - py;\n    const fx = cx - px;\n    const fy = cy - py;\n\n    const ap = dx * dx + dy * dy;\n    const bp = ex * ex + ey * ey;\n    const cp = fx * fx + fy * fy;\n\n    return dx * (ey * cp - bp * fy) -\n           dy * (ex * cp - bp * fx) +\n           ap * (ex * fy - ey * fx) < 0;\n}\n\nfunction circumradius(ax, ay, bx, by, cx, cy) {\n    const dx = bx - ax;\n    const dy = by - ay;\n    const ex = cx - ax;\n    const ey = cy - ay;\n\n    const bl = dx * dx + dy * dy;\n    const cl = ex * ex + ey * ey;\n    const d = 0.5 / (dx * ey - dy * ex);\n\n    const x = (ey * bl - dy * cl) * d;\n    const y = (dx * cl - ex * bl) * d;\n\n    return x * x + y * y;\n}\n\nfunction circumcenter(ax, ay, bx, by, cx, cy) {\n    const dx = bx - ax;\n    const dy = by - ay;\n    const ex = cx - ax;\n    const ey = cy - ay;\n\n    const bl = dx * dx + dy * dy;\n    const cl = ex * ex + ey * ey;\n    const d = 0.5 / (dx * ey - dy * ex);\n\n    const x = ax + (ey * bl - dy * cl) * d;\n    const y = ay + (dx * cl - ex * bl) * d;\n\n    return {x, y};\n}\n\nfunction quicksort(ids, dists, left, right) {\n    if (right - left <= 20) {\n        for (let i = left + 1; i <= right; i++) {\n            const temp = ids[i];\n            const tempDist = dists[temp];\n            let j = i - 1;\n            while (j >= left && dists[ids[j]] > tempDist) ids[j + 1] = ids[j--];\n            ids[j + 1] = temp;\n        }\n    } else {\n        const median = (left + right) >> 1;\n        let i = left + 1;\n        let j = right;\n        swap(ids, median, i);\n        if (dists[ids[left]] > dists[ids[right]]) swap(ids, left, right);\n        if (dists[ids[i]] > dists[ids[right]]) swap(ids, i, right);\n        if (dists[ids[left]] > dists[ids[i]]) swap(ids, left, i);\n\n        const temp = ids[i];\n        const tempDist = dists[temp];\n        while (true) {\n            do i++; while (dists[ids[i]] < tempDist);\n            do j--; while (dists[ids[j]] > tempDist);\n            if (j < i) break;\n            swap(ids, i, j);\n        }\n        ids[left + 1] = ids[j];\n        ids[j] = temp;\n\n        if (right - i + 1 >= j - left) {\n            quicksort(ids, dists, i, right);\n            quicksort(ids, dists, left, j - 1);\n        } else {\n            quicksort(ids, dists, left, j - 1);\n            quicksort(ids, dists, i, right);\n        }\n    }\n}\n\nfunction swap(arr, i, j) {\n    const tmp = arr[i];\n    arr[i] = arr[j];\n    arr[j] = tmp;\n}\n\nfunction defaultGetX(p) {\n    return p[0];\n}\nfunction defaultGetY(p) {\n    return p[1];\n}\n","const epsilon = 1e-6;\n\nexport default class Path {\n  constructor() {\n    this._x0 = this._y0 = // start of current subpath\n    this._x1 = this._y1 = null; // end of current subpath\n    this._ = \"\";\n  }\n  moveTo(x, y) {\n    this._ += `M${this._x0 = this._x1 = +x},${this._y0 = this._y1 = +y}`;\n  }\n  closePath() {\n    if (this._x1 !== null) {\n      this._x1 = this._x0, this._y1 = this._y0;\n      this._ += \"Z\";\n    }\n  }\n  lineTo(x, y) {\n    this._ += `L${this._x1 = +x},${this._y1 = +y}`;\n  }\n  arc(x, y, r) {\n    x = +x, y = +y, r = +r;\n    const x0 = x + r;\n    const y0 = y;\n    if (r < 0) throw new Error(\"negative radius\");\n    if (this._x1 === null) this._ += `M${x0},${y0}`;\n    else if (Math.abs(this._x1 - x0) > epsilon || Math.abs(this._y1 - y0) > epsilon) this._ += \"L\" + x0 + \",\" + y0;\n    if (!r) return;\n    this._ += `A${r},${r},0,1,1,${x - r},${y}A${r},${r},0,1,1,${this._x1 = x0},${this._y1 = y0}`;\n  }\n  rect(x, y, w, h) {\n    this._ += `M${this._x0 = this._x1 = +x},${this._y0 = this._y1 = +y}h${+w}v${+h}h${-w}Z`;\n  }\n  value() {\n    return this._ || null;\n  }\n}\n","export default class Polygon {\n  constructor() {\n    this._ = [];\n  }\n  moveTo(x, y) {\n    this._.push([x, y]);\n  }\n  closePath() {\n    this._.push(this._[0].slice());\n  }\n  lineTo(x, y) {\n    this._.push([x, y]);\n  }\n  value() {\n    return this._.length ? this._ : null;\n  }\n}\n","import Path from \"./path.js\";\nimport Polygon from \"./polygon.js\";\n\nexport default class Voronoi {\n  constructor(delaunay, [xmin, ymin, xmax, ymax] = [0, 0, 960, 500]) {\n    if (!((xmax = +xmax) >= (xmin = +xmin)) || !((ymax = +ymax) >= (ymin = +ymin))) throw new Error(\"invalid bounds\");\n    this.delaunay = delaunay;\n    this._circumcenters = new Float64Array(delaunay.points.length * 2);\n    this.vectors = new Float64Array(delaunay.points.length * 2);\n    this.xmax = xmax, this.xmin = xmin;\n    this.ymax = ymax, this.ymin = ymin;\n    this._init();\n  }\n  update() {\n    this.delaunay.update();\n    this._init();\n    return this;\n  }\n  _init() {\n    const {delaunay: {points, hull, triangles}, vectors} = this;\n\n    // Compute circumcenters.\n    const circumcenters = this.circumcenters = this._circumcenters.subarray(0, triangles.length / 3 * 2);\n    for (let i = 0, j = 0, n = triangles.length; i < n; i += 3, j += 2) {\n      const t1 = triangles[i] * 2;\n      const t2 = triangles[i + 1] * 2;\n      const t3 = triangles[i + 2] * 2;\n      const x1 = points[t1];\n      const y1 = points[t1 + 1];\n      const x2 = points[t2];\n      const y2 = points[t2 + 1];\n      const x3 = points[t3];\n      const y3 = points[t3 + 1];\n      const a2 = x1 - x2;\n      const a3 = x1 - x3;\n      const b2 = y1 - y2;\n      const b3 = y1 - y3;\n      const d1 = x1 * x1 + y1 * y1;\n      const d2 = d1 - x2 * x2 - y2 * y2;\n      const d3 = d1 - x3 * x3 - y3 * y3;\n      const ab = (a3 * b2 - a2 * b3) * 2;\n      // degenerate case (2 points)\n      if (!ab) {\n        circumcenters[j] = (x1 + x3) / 2 + 1e8 * b3;\n        circumcenters[j + 1] = (y1 + y3) / 2 - 1e8 * a3;\n      } else {\n        circumcenters[j] = (b2 * d3 - b3 * d2) / ab;\n        circumcenters[j + 1] = (a3 * d2 - a2 * d3) / ab;\n      }\n    }\n\n    // Compute exterior cell rays.\n    let h = hull[hull.length - 1];\n    let p0, p1 = h * 4;\n    let x0, x1 = points[2 * h];\n    let y0, y1 = points[2 * h + 1];\n    vectors.fill(0);\n    for (let i = 0; i < hull.length; ++i) {\n      h = hull[i];\n      p0 = p1, x0 = x1, y0 = y1;\n      p1 = h * 4, x1 = points[2 * h], y1 = points[2 * h + 1];\n      vectors[p0 + 2] = vectors[p1] = y0 - y1;\n      vectors[p0 + 3] = vectors[p1 + 1] = x1 - x0;\n    }\n  }\n  render(context) {\n    const buffer = context == null ? context = new Path : undefined;\n    const {delaunay: {halfedges, inedges, hull}, circumcenters, vectors} = this;\n    if (hull.length <= 1) return null;\n    for (let i = 0, n = halfedges.length; i < n; ++i) {\n      const j = halfedges[i];\n      if (j < i) continue;\n      const ti = Math.floor(i / 3) * 2;\n      const tj = Math.floor(j / 3) * 2;\n      const xi = circumcenters[ti];\n      const yi = circumcenters[ti + 1];\n      const xj = circumcenters[tj];\n      const yj = circumcenters[tj + 1];\n      this._renderSegment(xi, yi, xj, yj, context);\n    }\n    let h0, h1 = hull[hull.length - 1];\n    for (let i = 0; i < hull.length; ++i) {\n      h0 = h1, h1 = hull[i];\n      const t = Math.floor(inedges[h1] / 3) * 2;\n      const x = circumcenters[t];\n      const y = circumcenters[t + 1];\n      const v = h0 * 4;\n      const p = this._project(x, y, vectors[v + 2], vectors[v + 3]);\n      if (p) this._renderSegment(x, y, p[0], p[1], context);\n    }\n    return buffer && buffer.value();\n  }\n  renderBounds(context) {\n    const buffer = context == null ? context = new Path : undefined;\n    context.rect(this.xmin, this.ymin, this.xmax - this.xmin, this.ymax - this.ymin);\n    return buffer && buffer.value();\n  }\n  renderCell(i, context) {\n    const buffer = context == null ? context = new Path : undefined;\n    const points = this._clip(i);\n    if (points === null) return;\n    context.moveTo(points[0], points[1]);\n    for (let i = 2, n = points.length; i < n; i += 2) {\n      if (points[i] !== points[i-2] || points[i+1] !== points[i-1])\n        context.lineTo(points[i], points[i + 1]);\n    }\n    context.closePath();\n    return buffer && buffer.value();\n  }\n  *cellPolygons() {\n    const {delaunay: {points}} = this;\n    for (let i = 0, n = points.length / 2; i < n; ++i) {\n      const cell = this.cellPolygon(i);\n      if (cell) yield cell;\n    }\n  }\n  cellPolygon(i) {\n    const polygon = new Polygon;\n    this.renderCell(i, polygon);\n    return polygon.value();\n  }\n  _renderSegment(x0, y0, x1, y1, context) {\n    let S;\n    const c0 = this._regioncode(x0, y0);\n    const c1 = this._regioncode(x1, y1);\n    if (c0 === 0 && c1 === 0) {\n      context.moveTo(x0, y0);\n      context.lineTo(x1, y1);\n    } else if (S = this._clipSegment(x0, y0, x1, y1, c0, c1)) {\n      context.moveTo(S[0], S[1]);\n      context.lineTo(S[2], S[3]);\n    }\n  }\n  contains(i, x, y) {\n    if ((x = +x, x !== x) || (y = +y, y !== y)) return false;\n    return this.delaunay._step(i, x, y) === i;\n  }\n  _cell(i) {\n    const {circumcenters, delaunay: {inedges, halfedges, triangles}} = this;\n    const e0 = inedges[i];\n    if (e0 === -1) return null; // coincident point\n    const points = [];\n    let e = e0;\n    do {\n      const t = Math.floor(e / 3);\n      points.push(circumcenters[t * 2], circumcenters[t * 2 + 1]);\n      e = e % 3 === 2 ? e - 2 : e + 1;\n      if (triangles[e] !== i) break; // bad triangulation\n      e = halfedges[e];\n    } while (e !== e0 && e !== -1);\n    return points;\n  }\n  _clip(i) {\n    // degenerate case (1 valid point: return the box)\n    if (i === 0 && this.delaunay.hull.length === 1) {\n      return [this.xmax, this.ymin, this.xmax, this.ymax, this.xmin, this.ymax, this.xmin, this.ymin];\n    }\n    const points = this._cell(i);\n    if (points === null) return null;\n    const {vectors: V} = this;\n    const v = i * 4;\n    return V[v] || V[v + 1]\n        ? this._clipInfinite(i, points, V[v], V[v + 1], V[v + 2], V[v + 3])\n        : this._clipFinite(i, points);\n  }\n  _clipFinite(i, points) {\n    const n = points.length;\n    let P = null;\n    let x0, y0, x1 = points[n - 2], y1 = points[n - 1];\n    let c0, c1 = this._regioncode(x1, y1);\n    let e0, e1;\n    for (let j = 0; j < n; j += 2) {\n      x0 = x1, y0 = y1, x1 = points[j], y1 = points[j + 1];\n      c0 = c1, c1 = this._regioncode(x1, y1);\n      if (c0 === 0 && c1 === 0) {\n        e0 = e1, e1 = 0;\n        if (P) P.push(x1, y1);\n        else P = [x1, y1];\n      } else {\n        let S, sx0, sy0, sx1, sy1;\n        if (c0 === 0) {\n          if ((S = this._clipSegment(x0, y0, x1, y1, c0, c1)) === null) continue;\n          [sx0, sy0, sx1, sy1] = S;\n        } else {\n          if ((S = this._clipSegment(x1, y1, x0, y0, c1, c0)) === null) continue;\n          [sx1, sy1, sx0, sy0] = S;\n          e0 = e1, e1 = this._edgecode(sx0, sy0);\n          if (e0 && e1) this._edge(i, e0, e1, P, P.length);\n          if (P) P.push(sx0, sy0);\n          else P = [sx0, sy0];\n        }\n        e0 = e1, e1 = this._edgecode(sx1, sy1);\n        if (e0 && e1) this._edge(i, e0, e1, P, P.length);\n        if (P) P.push(sx1, sy1);\n        else P = [sx1, sy1];\n      }\n    }\n    if (P) {\n      e0 = e1, e1 = this._edgecode(P[0], P[1]);\n      if (e0 && e1) this._edge(i, e0, e1, P, P.length);\n    } else if (this.contains(i, (this.xmin + this.xmax) / 2, (this.ymin + this.ymax) / 2)) {\n      return [this.xmax, this.ymin, this.xmax, this.ymax, this.xmin, this.ymax, this.xmin, this.ymin];\n    }\n    return P;\n  }\n  _clipSegment(x0, y0, x1, y1, c0, c1) {\n    while (true) {\n      if (c0 === 0 && c1 === 0) return [x0, y0, x1, y1];\n      if (c0 & c1) return null;\n      let x, y, c = c0 || c1;\n      if (c & 0b1000) x = x0 + (x1 - x0) * (this.ymax - y0) / (y1 - y0), y = this.ymax;\n      else if (c & 0b0100) x = x0 + (x1 - x0) * (this.ymin - y0) / (y1 - y0), y = this.ymin;\n      else if (c & 0b0010) y = y0 + (y1 - y0) * (this.xmax - x0) / (x1 - x0), x = this.xmax;\n      else y = y0 + (y1 - y0) * (this.xmin - x0) / (x1 - x0), x = this.xmin;\n      if (c0) x0 = x, y0 = y, c0 = this._regioncode(x0, y0);\n      else x1 = x, y1 = y, c1 = this._regioncode(x1, y1);\n    }\n  }\n  _clipInfinite(i, points, vx0, vy0, vxn, vyn) {\n    let P = Array.from(points), p;\n    if (p = this._project(P[0], P[1], vx0, vy0)) P.unshift(p[0], p[1]);\n    if (p = this._project(P[P.length - 2], P[P.length - 1], vxn, vyn)) P.push(p[0], p[1]);\n    if (P = this._clipFinite(i, P)) {\n      for (let j = 0, n = P.length, c0, c1 = this._edgecode(P[n - 2], P[n - 1]); j < n; j += 2) {\n        c0 = c1, c1 = this._edgecode(P[j], P[j + 1]);\n        if (c0 && c1) j = this._edge(i, c0, c1, P, j), n = P.length;\n      }\n    } else if (this.contains(i, (this.xmin + this.xmax) / 2, (this.ymin + this.ymax) / 2)) {\n      P = [this.xmin, this.ymin, this.xmax, this.ymin, this.xmax, this.ymax, this.xmin, this.ymax];\n    }\n    return P;\n  }\n  _edge(i, e0, e1, P, j) {\n    while (e0 !== e1) {\n      let x, y;\n      switch (e0) {\n        case 0b0101: e0 = 0b0100; continue; // top-left\n        case 0b0100: e0 = 0b0110, x = this.xmax, y = this.ymin; break; // top\n        case 0b0110: e0 = 0b0010; continue; // top-right\n        case 0b0010: e0 = 0b1010, x = this.xmax, y = this.ymax; break; // right\n        case 0b1010: e0 = 0b1000; continue; // bottom-right\n        case 0b1000: e0 = 0b1001, x = this.xmin, y = this.ymax; break; // bottom\n        case 0b1001: e0 = 0b0001; continue; // bottom-left\n        case 0b0001: e0 = 0b0101, x = this.xmin, y = this.ymin; break; // left\n      }\n      if ((P[j] !== x || P[j + 1] !== y) && this.contains(i, x, y)) {\n        P.splice(j, 0, x, y), j += 2;\n      }\n    }\n    return j;\n  }\n  _project(x0, y0, vx, vy) {\n    let t = Infinity, c, x, y;\n    if (vy < 0) { // top\n      if (y0 <= this.ymin) return null;\n      if ((c = (this.ymin - y0) / vy) < t) y = this.ymin, x = x0 + (t = c) * vx;\n    } else if (vy > 0) { // bottom\n      if (y0 >= this.ymax) return null;\n      if ((c = (this.ymax - y0) / vy) < t) y = this.ymax, x = x0 + (t = c) * vx;\n    }\n    if (vx > 0) { // right\n      if (x0 >= this.xmax) return null;\n      if ((c = (this.xmax - x0) / vx) < t) x = this.xmax, y = y0 + (t = c) * vy;\n    } else if (vx < 0) { // left\n      if (x0 <= this.xmin) return null;\n      if ((c = (this.xmin - x0) / vx) < t) x = this.xmin, y = y0 + (t = c) * vy;\n    }\n    return [x, y];\n  }\n  _edgecode(x, y) {\n    return (x === this.xmin ? 0b0001\n        : x === this.xmax ? 0b0010 : 0b0000)\n        | (y === this.ymin ? 0b0100\n        : y === this.ymax ? 0b1000 : 0b0000);\n  }\n  _regioncode(x, y) {\n    return (x < this.xmin ? 0b0001\n        : x > this.xmax ? 0b0010 : 0b0000)\n        | (y < this.ymin ? 0b0100\n        : y > this.ymax ? 0b1000 : 0b0000);\n  }\n}\n","import Delaunator from \"delaunator\";\nimport Path from \"./path.js\";\nimport Polygon from \"./polygon.js\";\nimport Voronoi from \"./voronoi.js\";\n\nconst tau = 2 * Math.PI;\n\nfunction pointX(p) {\n  return p[0];\n}\n\nfunction pointY(p) {\n  return p[1];\n}\n\nfunction area(hull, points) {\n  let n = hull.length, x0, y0,\n      x1 = points[2 * hull[n - 1]],\n      y1 = points[2 * hull[n - 1] + 1],\n      area = 0;\n\n  for (let i = 0; i < n; i ++) {\n    x0 = x1, y0 = y1;\n    x1 = points[2 * hull[i]];\n    y1 = points[2 * hull[i] + 1];\n    area += y0 * x1 - x0 * y1;\n  }\n\n  return area / 2;\n}\n\nfunction jitter(x, y, r) {\n  return [x + Math.sin(x + y) * r, y + Math.cos(x - y) * r];\n}\n\nexport default class Delaunay {\n  constructor(points) {\n    this._delaunator = new Delaunator(points);\n    this.inedges = new Int32Array(points.length / 2);\n    this._hullIndex = new Int32Array(points.length / 2);\n    this.points = this._delaunator.coords;\n    this._init();\n  }\n  update() {\n    this._delaunator.update();\n    this._init();\n    return this;\n  }\n  _init() {\n    const d = this._delaunator, points = this.points;\n\n    // check for collinear\n    if (d.hull && d.hull.length > 2 && area(d.hull, points) < 1e-10) {\n      this.collinear = Int32Array.from({length: points.length/2}, (_,i) => i)\n        .sort((i, j) => points[2 * i] - points[2 * j] || points[2 * i + 1] - points[2 * j + 1]); // for exact neighbors\n      const e = this.collinear[0], f = this.collinear[this.collinear.length - 1],\n        bounds = [ points[2 * e], points[2 * e + 1], points[2 * f], points[2 * f + 1] ],\n        r = 1e-8 * Math.sqrt((bounds[3] - bounds[1])**2 + (bounds[2] - bounds[0])**2);\n      for (let i = 0, n = points.length / 2; i < n; ++i) {\n        const p = jitter(points[2 * i], points[2 * i + 1], r);\n        points[2 * i] = p[0];\n        points[2 * i + 1] = p[1];\n      }\n      this._delaunator = new Delaunator(points);\n    } else {\n      delete this.collinear;\n    }\n\n    const halfedges = this.halfedges = this._delaunator.halfedges;\n    const hull = this.hull = this._delaunator.hull;\n    const triangles = this.triangles = this._delaunator.triangles;\n    const inedges = this.inedges.fill(-1);\n    const hullIndex = this._hullIndex.fill(-1);\n\n    // Compute an index from each point to an (arbitrary) incoming halfedge\n    // Used to give the first neighbor of each point; for this reason,\n    // on the hull we give priority to exterior halfedges\n    for (let e = 0, n = halfedges.length; e < n; ++e) {\n      const p = triangles[e % 3 === 2 ? e - 2 : e + 1];\n      if (halfedges[e] === -1 || inedges[p] === -1) inedges[p] = e;\n    }\n    for (let i = 0, n = hull.length; i < n; ++i) {\n      hullIndex[hull[i]] = i;\n    }\n\n    // degenerate case: 1 or 2 (distinct) points\n    if (hull.length <= 2 && hull.length > 0) {\n      this.triangles = new Int32Array(3).fill(-1);\n      this.halfedges = new Int32Array(3).fill(-1);\n      this.triangles[0] = hull[0];\n      this.triangles[1] = hull[1];\n      this.triangles[2] = hull[1];\n      inedges[hull[0]] = 1;\n      if (hull.length === 2) inedges[hull[1]] = 0;\n    }\n  }\n  voronoi(bounds) {\n    return new Voronoi(this, bounds);\n  }\n  *neighbors(i) {\n    const {inedges, hull, _hullIndex, halfedges, triangles} = this;\n\n    // degenerate case with several collinear points\n    if (this.collinear) {\n      const l = this.collinear.indexOf(i);\n      if (l > 0) yield this.collinear[l - 1];\n      if (l < this.collinear.length - 1) yield this.collinear[l + 1];\n      return;\n    }\n\n    const e0 = inedges[i];\n    if (e0 === -1) return; // coincident point\n    let e = e0, p0 = -1;\n    do {\n      yield p0 = triangles[e];\n      e = e % 3 === 2 ? e - 2 : e + 1;\n      if (triangles[e] !== i) return; // bad triangulation\n      e = halfedges[e];\n      if (e === -1) {\n        const p = hull[(_hullIndex[i] + 1) % hull.length];\n        if (p !== p0) yield p;\n        return;\n      }\n    } while (e !== e0);\n  }\n  find(x, y, i = 0) {\n    if ((x = +x, x !== x) || (y = +y, y !== y)) return -1;\n    const i0 = i;\n    let c;\n    while ((c = this._step(i, x, y)) >= 0 && c !== i && c !== i0) i = c;\n    return c;\n  }\n  _step(i, x, y) {\n    const {inedges, hull, _hullIndex, halfedges, triangles, points} = this;\n    if (inedges[i] === -1 || !points.length) return (i + 1) % (points.length >> 1);\n    let c = i;\n    let dc = (x - points[i * 2]) ** 2 + (y - points[i * 2 + 1]) ** 2;\n    const e0 = inedges[i];\n    let e = e0;\n    do {\n      let t = triangles[e];\n      const dt = (x - points[t * 2]) ** 2 + (y - points[t * 2 + 1]) ** 2;\n      if (dt < dc) dc = dt, c = t;\n      e = e % 3 === 2 ? e - 2 : e + 1;\n      if (triangles[e] !== i) break; // bad triangulation\n      e = halfedges[e];\n      if (e === -1) {\n        e = hull[(_hullIndex[i] + 1) % hull.length];\n        if (e !== t) {\n          if ((x - points[e * 2]) ** 2 + (y - points[e * 2 + 1]) ** 2 < dc) return e;\n        }\n        break;\n      }\n    } while (e !== e0);\n    return c;\n  }\n  render(context) {\n    const buffer = context == null ? context = new Path : undefined;\n    const {points, halfedges, triangles} = this;\n    for (let i = 0, n = halfedges.length; i < n; ++i) {\n      const j = halfedges[i];\n      if (j < i) continue;\n      const ti = triangles[i] * 2;\n      const tj = triangles[j] * 2;\n      context.moveTo(points[ti], points[ti + 1]);\n      context.lineTo(points[tj], points[tj + 1]);\n    }\n    this.renderHull(context);\n    return buffer && buffer.value();\n  }\n  renderPoints(context, r = 2) {\n    const buffer = context == null ? context = new Path : undefined;\n    const {points} = this;\n    for (let i = 0, n = points.length; i < n; i += 2) {\n      const x = points[i], y = points[i + 1];\n      context.moveTo(x + r, y);\n      context.arc(x, y, r, 0, tau);\n    }\n    return buffer && buffer.value();\n  }\n  renderHull(context) {\n    const buffer = context == null ? context = new Path : undefined;\n    const {hull, points} = this;\n    const h = hull[0] * 2, n = hull.length;\n    context.moveTo(points[h], points[h + 1]);\n    for (let i = 1; i < n; ++i) {\n      const h = 2 * hull[i];\n      context.lineTo(points[h], points[h + 1]);\n    }\n    context.closePath();\n    return buffer && buffer.value();\n  }\n  hullPolygon() {\n    const polygon = new Polygon;\n    this.renderHull(polygon);\n    return polygon.value();\n  }\n  renderTriangle(i, context) {\n    const buffer = context == null ? context = new Path : undefined;\n    const {points, triangles} = this;\n    const t0 = triangles[i *= 3] * 2;\n    const t1 = triangles[i + 1] * 2;\n    const t2 = triangles[i + 2] * 2;\n    context.moveTo(points[t0], points[t0 + 1]);\n    context.lineTo(points[t1], points[t1 + 1]);\n    context.lineTo(points[t2], points[t2 + 1]);\n    context.closePath();\n    return buffer && buffer.value();\n  }\n  *trianglePolygons() {\n    const {triangles} = this;\n    for (let i = 0, n = triangles.length / 3; i < n; ++i) {\n      yield this.trianglePolygon(i);\n    }\n  }\n  trianglePolygon(i) {\n    const polygon = new Polygon;\n    this.renderTriangle(i, polygon);\n    return polygon.value();\n  }\n}\n\nDelaunay.from = function(points, fx = pointX, fy = pointY, that) {\n  return new Delaunay(\"length\" in points\n      ? flatArray(points, fx, fy, that)\n      : Float64Array.from(flatIterable(points, fx, fy, that)));\n};\n\nfunction flatArray(points, fx, fy, that) {\n  const n = points.length;\n  const array = new Float64Array(n * 2);\n  for (let i = 0; i < n; ++i) {\n    const p = points[i];\n    array[i * 2] = fx.call(that, p, i, points);\n    array[i * 2 + 1] = fy.call(that, p, i, points);\n  }\n  return array;\n}\n\nfunction* flatIterable(points, fx, fy, that) {\n  let i = 0;\n  for (const p of points) {\n    yield fx.call(that, p, i, points);\n    yield fy.call(that, p, i, points);\n    ++i;\n  }\n}\n","export {default as Delaunay} from \"./delaunay.js\";\nexport {default as Voronoi} from \"./voronoi.js\";\n","export function bound01(n, max) {\n    if (isOnePointZero(n)) {\n        n = '100%';\n    }\n    var processPercent = isPercentage(n);\n    n = max === 360 ? n : Math.min(max, Math.max(0, parseFloat(n)));\n    if (processPercent) {\n        n = parseInt(String(n * max), 10) / 100;\n    }\n    if (Math.abs(n - max) < 0.000001) {\n        return 1;\n    }\n    if (max === 360) {\n        n = (n < 0 ? (n % max) + max : n % max) / parseFloat(String(max));\n    }\n    else {\n        n = (n % max) / parseFloat(String(max));\n    }\n    return n;\n}\nexport function clamp01(val) {\n    return Math.min(1, Math.max(0, val));\n}\nexport function isOnePointZero(n) {\n    return typeof n === 'string' && n.includes('.') && parseFloat(n) === 1;\n}\nexport function isPercentage(n) {\n    return typeof n === 'string' && n.includes('%');\n}\nexport function boundAlpha(a) {\n    a = parseFloat(a);\n    if (isNaN(a) || a < 0 || a > 1) {\n        a = 1;\n    }\n    return a;\n}\nexport function convertToPercentage(n) {\n    if (n <= 1) {\n        return Number(n) * 100 + \"%\";\n    }\n    return n;\n}\nexport function pad2(c) {\n    return c.length === 1 ? '0' + c : String(c);\n}\n","import { bound01, pad2 } from './util';\nexport function rgbToRgb(r, g, b) {\n    return {\n        r: bound01(r, 255) * 255,\n        g: bound01(g, 255) * 255,\n        b: bound01(b, 255) * 255,\n    };\n}\nexport function rgbToHsl(r, g, b) {\n    r = bound01(r, 255);\n    g = bound01(g, 255);\n    b = bound01(b, 255);\n    var max = Math.max(r, g, b);\n    var min = Math.min(r, g, b);\n    var h = 0;\n    var s = 0;\n    var l = (max + min) / 2;\n    if (max === min) {\n        s = 0;\n        h = 0;\n    }\n    else {\n        var d = max - min;\n        s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n        switch (max) {\n            case r:\n                h = ((g - b) / d) + (g < b ? 6 : 0);\n                break;\n            case g:\n                h = ((b - r) / d) + 2;\n                break;\n            case b:\n                h = ((r - g) / d) + 4;\n                break;\n            default:\n                break;\n        }\n        h /= 6;\n    }\n    return { h: h, s: s, l: l };\n}\nexport function hslToRgb(h, s, l) {\n    var r;\n    var g;\n    var b;\n    h = bound01(h, 360);\n    s = bound01(s, 100);\n    l = bound01(l, 100);\n    function hue2rgb(p, q, t) {\n        if (t < 0) {\n            t += 1;\n        }\n        if (t > 1) {\n            t -= 1;\n        }\n        if (t < 1 / 6) {\n            return p + ((q - p) * (6 * t));\n        }\n        if (t < 1 / 2) {\n            return q;\n        }\n        if (t < 2 / 3) {\n            return p + ((q - p) * ((2 / 3) - t) * 6);\n        }\n        return p;\n    }\n    if (s === 0) {\n        g = l;\n        b = l;\n        r = l;\n    }\n    else {\n        var q = l < 0.5 ? (l * (1 + s)) : (l + s - (l * s));\n        var p = (2 * l) - q;\n        r = hue2rgb(p, q, h + (1 / 3));\n        g = hue2rgb(p, q, h);\n        b = hue2rgb(p, q, h - (1 / 3));\n    }\n    return { r: r * 255, g: g * 255, b: b * 255 };\n}\nexport function rgbToHsv(r, g, b) {\n    r = bound01(r, 255);\n    g = bound01(g, 255);\n    b = bound01(b, 255);\n    var max = Math.max(r, g, b);\n    var min = Math.min(r, g, b);\n    var h = 0;\n    var v = max;\n    var d = max - min;\n    var s = max === 0 ? 0 : d / max;\n    if (max === min) {\n        h = 0;\n    }\n    else {\n        switch (max) {\n            case r:\n                h = ((g - b) / d) + (g < b ? 6 : 0);\n                break;\n            case g:\n                h = ((b - r) / d) + 2;\n                break;\n            case b:\n                h = ((r - g) / d) + 4;\n                break;\n            default:\n                break;\n        }\n        h /= 6;\n    }\n    return { h: h, s: s, v: v };\n}\nexport function hsvToRgb(h, s, v) {\n    h = bound01(h, 360) * 6;\n    s = bound01(s, 100);\n    v = bound01(v, 100);\n    var i = Math.floor(h);\n    var f = h - i;\n    var p = v * (1 - s);\n    var q = v * (1 - (f * s));\n    var t = v * (1 - ((1 - f) * s));\n    var mod = i % 6;\n    var r = [v, q, p, p, t, v][mod];\n    var g = [t, v, v, q, p, p][mod];\n    var b = [p, p, t, v, v, q][mod];\n    return { r: r * 255, g: g * 255, b: b * 255 };\n}\nexport function rgbToHex(r, g, b, allow3Char) {\n    var hex = [\n        pad2(Math.round(r).toString(16)),\n        pad2(Math.round(g).toString(16)),\n        pad2(Math.round(b).toString(16)),\n    ];\n    if (allow3Char &&\n        hex[0].charAt(0) === hex[0].charAt(1) &&\n        hex[1].charAt(0) === hex[1].charAt(1) &&\n        hex[2].charAt(0) === hex[2].charAt(1)) {\n        return hex[0].charAt(0) + hex[1].charAt(0) + hex[2].charAt(0);\n    }\n    return hex.join('');\n}\nexport function rgbaToHex(r, g, b, a, allow4Char) {\n    var hex = [\n        pad2(Math.round(r).toString(16)),\n        pad2(Math.round(g).toString(16)),\n        pad2(Math.round(b).toString(16)),\n        pad2(convertDecimalToHex(a)),\n    ];\n    if (allow4Char &&\n        hex[0].charAt(0) === hex[0].charAt(1) &&\n        hex[1].charAt(0) === hex[1].charAt(1) &&\n        hex[2].charAt(0) === hex[2].charAt(1) &&\n        hex[3].charAt(0) === hex[3].charAt(1)) {\n        return hex[0].charAt(0) + hex[1].charAt(0) + hex[2].charAt(0) + hex[3].charAt(0);\n    }\n    return hex.join('');\n}\nexport function rgbaToArgbHex(r, g, b, a) {\n    var hex = [\n        pad2(convertDecimalToHex(a)),\n        pad2(Math.round(r).toString(16)),\n        pad2(Math.round(g).toString(16)),\n        pad2(Math.round(b).toString(16)),\n    ];\n    return hex.join('');\n}\nexport function convertDecimalToHex(d) {\n    return Math.round(parseFloat(d) * 255).toString(16);\n}\nexport function convertHexToDecimal(h) {\n    return parseIntFromHex(h) / 255;\n}\nexport function parseIntFromHex(val) {\n    return parseInt(val, 16);\n}\n","export var names = {\n    aliceblue: '#f0f8ff',\n    antiquewhite: '#faebd7',\n    aqua: '#00ffff',\n    aquamarine: '#7fffd4',\n    azure: '#f0ffff',\n    beige: '#f5f5dc',\n    bisque: '#ffe4c4',\n    black: '#000000',\n    blanchedalmond: '#ffebcd',\n    blue: '#0000ff',\n    blueviolet: '#8a2be2',\n    brown: '#a52a2a',\n    burlywood: '#deb887',\n    cadetblue: '#5f9ea0',\n    chartreuse: '#7fff00',\n    chocolate: '#d2691e',\n    coral: '#ff7f50',\n    cornflowerblue: '#6495ed',\n    cornsilk: '#fff8dc',\n    crimson: '#dc143c',\n    cyan: '#00ffff',\n    darkblue: '#00008b',\n    darkcyan: '#008b8b',\n    darkgoldenrod: '#b8860b',\n    darkgray: '#a9a9a9',\n    darkgreen: '#006400',\n    darkgrey: '#a9a9a9',\n    darkkhaki: '#bdb76b',\n    darkmagenta: '#8b008b',\n    darkolivegreen: '#556b2f',\n    darkorange: '#ff8c00',\n    darkorchid: '#9932cc',\n    darkred: '#8b0000',\n    darksalmon: '#e9967a',\n    darkseagreen: '#8fbc8f',\n    darkslateblue: '#483d8b',\n    darkslategray: '#2f4f4f',\n    darkslategrey: '#2f4f4f',\n    darkturquoise: '#00ced1',\n    darkviolet: '#9400d3',\n    deeppink: '#ff1493',\n    deepskyblue: '#00bfff',\n    dimgray: '#696969',\n    dimgrey: '#696969',\n    dodgerblue: '#1e90ff',\n    firebrick: '#b22222',\n    floralwhite: '#fffaf0',\n    forestgreen: '#228b22',\n    fuchsia: '#ff00ff',\n    gainsboro: '#dcdcdc',\n    ghostwhite: '#f8f8ff',\n    gold: '#ffd700',\n    goldenrod: '#daa520',\n    gray: '#808080',\n    green: '#008000',\n    greenyellow: '#adff2f',\n    grey: '#808080',\n    honeydew: '#f0fff0',\n    hotpink: '#ff69b4',\n    indianred: '#cd5c5c',\n    indigo: '#4b0082',\n    ivory: '#fffff0',\n    khaki: '#f0e68c',\n    lavender: '#e6e6fa',\n    lavenderblush: '#fff0f5',\n    lawngreen: '#7cfc00',\n    lemonchiffon: '#fffacd',\n    lightblue: '#add8e6',\n    lightcoral: '#f08080',\n    lightcyan: '#e0ffff',\n    lightgoldenrodyellow: '#fafad2',\n    lightgray: '#d3d3d3',\n    lightgreen: '#90ee90',\n    lightgrey: '#d3d3d3',\n    lightpink: '#ffb6c1',\n    lightsalmon: '#ffa07a',\n    lightseagreen: '#20b2aa',\n    lightskyblue: '#87cefa',\n    lightslategray: '#778899',\n    lightslategrey: '#778899',\n    lightsteelblue: '#b0c4de',\n    lightyellow: '#ffffe0',\n    lime: '#00ff00',\n    limegreen: '#32cd32',\n    linen: '#faf0e6',\n    magenta: '#ff00ff',\n    maroon: '#800000',\n    mediumaquamarine: '#66cdaa',\n    mediumblue: '#0000cd',\n    mediumorchid: '#ba55d3',\n    mediumpurple: '#9370db',\n    mediumseagreen: '#3cb371',\n    mediumslateblue: '#7b68ee',\n    mediumspringgreen: '#00fa9a',\n    mediumturquoise: '#48d1cc',\n    mediumvioletred: '#c71585',\n    midnightblue: '#191970',\n    mintcream: '#f5fffa',\n    mistyrose: '#ffe4e1',\n    moccasin: '#ffe4b5',\n    navajowhite: '#ffdead',\n    navy: '#000080',\n    oldlace: '#fdf5e6',\n    olive: '#808000',\n    olivedrab: '#6b8e23',\n    orange: '#ffa500',\n    orangered: '#ff4500',\n    orchid: '#da70d6',\n    palegoldenrod: '#eee8aa',\n    palegreen: '#98fb98',\n    paleturquoise: '#afeeee',\n    palevioletred: '#db7093',\n    papayawhip: '#ffefd5',\n    peachpuff: '#ffdab9',\n    peru: '#cd853f',\n    pink: '#ffc0cb',\n    plum: '#dda0dd',\n    powderblue: '#b0e0e6',\n    purple: '#800080',\n    rebeccapurple: '#663399',\n    red: '#ff0000',\n    rosybrown: '#bc8f8f',\n    royalblue: '#4169e1',\n    saddlebrown: '#8b4513',\n    salmon: '#fa8072',\n    sandybrown: '#f4a460',\n    seagreen: '#2e8b57',\n    seashell: '#fff5ee',\n    sienna: '#a0522d',\n    silver: '#c0c0c0',\n    skyblue: '#87ceeb',\n    slateblue: '#6a5acd',\n    slategray: '#708090',\n    slategrey: '#708090',\n    snow: '#fffafa',\n    springgreen: '#00ff7f',\n    steelblue: '#4682b4',\n    tan: '#d2b48c',\n    teal: '#008080',\n    thistle: '#d8bfd8',\n    tomato: '#ff6347',\n    turquoise: '#40e0d0',\n    violet: '#ee82ee',\n    wheat: '#f5deb3',\n    white: '#ffffff',\n    whitesmoke: '#f5f5f5',\n    yellow: '#ffff00',\n    yellowgreen: '#9acd32',\n};\n","import { convertHexToDecimal, hslToRgb, hsvToRgb, parseIntFromHex, rgbToRgb } from './conversion';\nimport { names } from './css-color-names';\nimport { boundAlpha, convertToPercentage } from './util';\nexport function inputToRGB(color) {\n    var rgb = { r: 0, g: 0, b: 0 };\n    var a = 1;\n    var s = null;\n    var v = null;\n    var l = null;\n    var ok = false;\n    var format = false;\n    if (typeof color === 'string') {\n        color = stringInputToObject(color);\n    }\n    if (typeof color === 'object') {\n        if (isValidCSSUnit(color.r) && isValidCSSUnit(color.g) && isValidCSSUnit(color.b)) {\n            rgb = rgbToRgb(color.r, color.g, color.b);\n            ok = true;\n            format = String(color.r).substr(-1) === '%' ? 'prgb' : 'rgb';\n        }\n        else if (isValidCSSUnit(color.h) && isValidCSSUnit(color.s) && isValidCSSUnit(color.v)) {\n            s = convertToPercentage(color.s);\n            v = convertToPercentage(color.v);\n            rgb = hsvToRgb(color.h, s, v);\n            ok = true;\n            format = 'hsv';\n        }\n        else if (isValidCSSUnit(color.h) && isValidCSSUnit(color.s) && isValidCSSUnit(color.l)) {\n            s = convertToPercentage(color.s);\n            l = convertToPercentage(color.l);\n            rgb = hslToRgb(color.h, s, l);\n            ok = true;\n            format = 'hsl';\n        }\n        if (Object.prototype.hasOwnProperty.call(color, 'a')) {\n            a = color.a;\n        }\n    }\n    a = boundAlpha(a);\n    return {\n        ok: ok,\n        format: color.format || format,\n        r: Math.min(255, Math.max(rgb.r, 0)),\n        g: Math.min(255, Math.max(rgb.g, 0)),\n        b: Math.min(255, Math.max(rgb.b, 0)),\n        a: a,\n    };\n}\nvar CSS_INTEGER = '[-\\\\+]?\\\\d+%?';\nvar CSS_NUMBER = '[-\\\\+]?\\\\d*\\\\.\\\\d+%?';\nvar CSS_UNIT = \"(?:\" + CSS_NUMBER + \")|(?:\" + CSS_INTEGER + \")\";\nvar PERMISSIVE_MATCH3 = \"[\\\\s|\\\\(]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")\\\\s*\\\\)?\";\nvar PERMISSIVE_MATCH4 = \"[\\\\s|\\\\(]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")\\\\s*\\\\)?\";\nvar matchers = {\n    CSS_UNIT: new RegExp(CSS_UNIT),\n    rgb: new RegExp('rgb' + PERMISSIVE_MATCH3),\n    rgba: new RegExp('rgba' + PERMISSIVE_MATCH4),\n    hsl: new RegExp('hsl' + PERMISSIVE_MATCH3),\n    hsla: new RegExp('hsla' + PERMISSIVE_MATCH4),\n    hsv: new RegExp('hsv' + PERMISSIVE_MATCH3),\n    hsva: new RegExp('hsva' + PERMISSIVE_MATCH4),\n    hex3: /^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,\n    hex6: /^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,\n    hex4: /^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,\n    hex8: /^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,\n};\nexport function stringInputToObject(color) {\n    color = color.trim().toLowerCase();\n    if (color.length === 0) {\n        return false;\n    }\n    var named = false;\n    if (names[color]) {\n        color = names[color];\n        named = true;\n    }\n    else if (color === 'transparent') {\n        return { r: 0, g: 0, b: 0, a: 0, format: 'name' };\n    }\n    var match = matchers.rgb.exec(color);\n    if (match) {\n        return { r: match[1], g: match[2], b: match[3] };\n    }\n    match = matchers.rgba.exec(color);\n    if (match) {\n        return { r: match[1], g: match[2], b: match[3], a: match[4] };\n    }\n    match = matchers.hsl.exec(color);\n    if (match) {\n        return { h: match[1], s: match[2], l: match[3] };\n    }\n    match = matchers.hsla.exec(color);\n    if (match) {\n        return { h: match[1], s: match[2], l: match[3], a: match[4] };\n    }\n    match = matchers.hsv.exec(color);\n    if (match) {\n        return { h: match[1], s: match[2], v: match[3] };\n    }\n    match = matchers.hsva.exec(color);\n    if (match) {\n        return { h: match[1], s: match[2], v: match[3], a: match[4] };\n    }\n    match = matchers.hex8.exec(color);\n    if (match) {\n        return {\n            r: parseIntFromHex(match[1]),\n            g: parseIntFromHex(match[2]),\n            b: parseIntFromHex(match[3]),\n            a: convertHexToDecimal(match[4]),\n            format: named ? 'name' : 'hex8',\n        };\n    }\n    match = matchers.hex6.exec(color);\n    if (match) {\n        return {\n            r: parseIntFromHex(match[1]),\n            g: parseIntFromHex(match[2]),\n            b: parseIntFromHex(match[3]),\n            format: named ? 'name' : 'hex',\n        };\n    }\n    match = matchers.hex4.exec(color);\n    if (match) {\n        return {\n            r: parseIntFromHex(match[1] + match[1]),\n            g: parseIntFromHex(match[2] + match[2]),\n            b: parseIntFromHex(match[3] + match[3]),\n            a: convertHexToDecimal(match[4] + match[4]),\n            format: named ? 'name' : 'hex8',\n        };\n    }\n    match = matchers.hex3.exec(color);\n    if (match) {\n        return {\n            r: parseIntFromHex(match[1] + match[1]),\n            g: parseIntFromHex(match[2] + match[2]),\n            b: parseIntFromHex(match[3] + match[3]),\n            format: named ? 'name' : 'hex',\n        };\n    }\n    return false;\n}\nexport function isValidCSSUnit(color) {\n    return Boolean(matchers.CSS_UNIT.exec(String(color)));\n}\n","import { rgbaToHex, rgbToHex, rgbToHsl, rgbToHsv } from './conversion';\nimport { names } from './css-color-names';\nimport { inputToRGB } from './format-input';\nimport { bound01, boundAlpha, clamp01 } from './util';\nvar TinyColor = (function () {\n    function TinyColor(color, opts) {\n        if (color === void 0) { color = ''; }\n        if (opts === void 0) { opts = {}; }\n        if (color instanceof TinyColor) {\n            return color;\n        }\n        this.originalInput = color;\n        var rgb = inputToRGB(color);\n        this.originalInput = color;\n        this.r = rgb.r;\n        this.g = rgb.g;\n        this.b = rgb.b;\n        this.a = rgb.a;\n        this.roundA = Math.round(100 * this.a) / 100;\n        this.format = opts.format || rgb.format;\n        this.gradientType = opts.gradientType;\n        if (this.r < 1) {\n            this.r = Math.round(this.r);\n        }\n        if (this.g < 1) {\n            this.g = Math.round(this.g);\n        }\n        if (this.b < 1) {\n            this.b = Math.round(this.b);\n        }\n        this.isValid = rgb.ok;\n    }\n    TinyColor.prototype.isDark = function () {\n        return this.getBrightness() < 128;\n    };\n    TinyColor.prototype.isLight = function () {\n        return !this.isDark();\n    };\n    TinyColor.prototype.getBrightness = function () {\n        var rgb = this.toRgb();\n        return ((rgb.r * 299) + (rgb.g * 587) + (rgb.b * 114)) / 1000;\n    };\n    TinyColor.prototype.getLuminance = function () {\n        var rgb = this.toRgb();\n        var R;\n        var G;\n        var B;\n        var RsRGB = rgb.r / 255;\n        var GsRGB = rgb.g / 255;\n        var BsRGB = rgb.b / 255;\n        if (RsRGB <= 0.03928) {\n            R = RsRGB / 12.92;\n        }\n        else {\n            R = Math.pow((RsRGB + 0.055) / 1.055, 2.4);\n        }\n        if (GsRGB <= 0.03928) {\n            G = GsRGB / 12.92;\n        }\n        else {\n            G = Math.pow((GsRGB + 0.055) / 1.055, 2.4);\n        }\n        if (BsRGB <= 0.03928) {\n            B = BsRGB / 12.92;\n        }\n        else {\n            B = Math.pow((BsRGB + 0.055) / 1.055, 2.4);\n        }\n        return (0.2126 * R) + (0.7152 * G) + (0.0722 * B);\n    };\n    TinyColor.prototype.getAlpha = function () {\n        return this.a;\n    };\n    TinyColor.prototype.setAlpha = function (alpha) {\n        this.a = boundAlpha(alpha);\n        this.roundA = Math.round(100 * this.a) / 100;\n        return this;\n    };\n    TinyColor.prototype.toHsv = function () {\n        var hsv = rgbToHsv(this.r, this.g, this.b);\n        return { h: hsv.h * 360, s: hsv.s, v: hsv.v, a: this.a };\n    };\n    TinyColor.prototype.toHsvString = function () {\n        var hsv = rgbToHsv(this.r, this.g, this.b);\n        var h = Math.round(hsv.h * 360);\n        var s = Math.round(hsv.s * 100);\n        var v = Math.round(hsv.v * 100);\n        return this.a === 1 ? \"hsv(\" + h + \", \" + s + \"%, \" + v + \"%)\" : \"hsva(\" + h + \", \" + s + \"%, \" + v + \"%, \" + this.roundA + \")\";\n    };\n    TinyColor.prototype.toHsl = function () {\n        var hsl = rgbToHsl(this.r, this.g, this.b);\n        return { h: hsl.h * 360, s: hsl.s, l: hsl.l, a: this.a };\n    };\n    TinyColor.prototype.toHslString = function () {\n        var hsl = rgbToHsl(this.r, this.g, this.b);\n        var h = Math.round(hsl.h * 360);\n        var s = Math.round(hsl.s * 100);\n        var l = Math.round(hsl.l * 100);\n        return this.a === 1 ? \"hsl(\" + h + \", \" + s + \"%, \" + l + \"%)\" : \"hsla(\" + h + \", \" + s + \"%, \" + l + \"%, \" + this.roundA + \")\";\n    };\n    TinyColor.prototype.toHex = function (allow3Char) {\n        if (allow3Char === void 0) { allow3Char = false; }\n        return rgbToHex(this.r, this.g, this.b, allow3Char);\n    };\n    TinyColor.prototype.toHexString = function (allow3Char) {\n        if (allow3Char === void 0) { allow3Char = false; }\n        return '#' + this.toHex(allow3Char);\n    };\n    TinyColor.prototype.toHex8 = function (allow4Char) {\n        if (allow4Char === void 0) { allow4Char = false; }\n        return rgbaToHex(this.r, this.g, this.b, this.a, allow4Char);\n    };\n    TinyColor.prototype.toHex8String = function (allow4Char) {\n        if (allow4Char === void 0) { allow4Char = false; }\n        return '#' + this.toHex8(allow4Char);\n    };\n    TinyColor.prototype.toRgb = function () {\n        return {\n            r: Math.round(this.r),\n            g: Math.round(this.g),\n            b: Math.round(this.b),\n            a: this.a,\n        };\n    };\n    TinyColor.prototype.toRgbString = function () {\n        var r = Math.round(this.r);\n        var g = Math.round(this.g);\n        var b = Math.round(this.b);\n        return this.a === 1 ? \"rgb(\" + r + \", \" + g + \", \" + b + \")\" : \"rgba(\" + r + \", \" + g + \", \" + b + \", \" + this.roundA + \")\";\n    };\n    TinyColor.prototype.toPercentageRgb = function () {\n        var fmt = function (x) { return Math.round(bound01(x, 255) * 100) + \"%\"; };\n        return {\n            r: fmt(this.r),\n            g: fmt(this.g),\n            b: fmt(this.b),\n            a: this.a,\n        };\n    };\n    TinyColor.prototype.toPercentageRgbString = function () {\n        var rnd = function (x) { return Math.round(bound01(x, 255) * 100); };\n        return this.a === 1 ?\n            \"rgb(\" + rnd(this.r) + \"%, \" + rnd(this.g) + \"%, \" + rnd(this.b) + \"%)\" :\n            \"rgba(\" + rnd(this.r) + \"%, \" + rnd(this.g) + \"%, \" + rnd(this.b) + \"%, \" + this.roundA + \")\";\n    };\n    TinyColor.prototype.toName = function () {\n        if (this.a === 0) {\n            return 'transparent';\n        }\n        if (this.a < 1) {\n            return false;\n        }\n        var hex = '#' + rgbToHex(this.r, this.g, this.b, false);\n        for (var _i = 0, _a = Object.keys(names); _i < _a.length; _i++) {\n            var key = _a[_i];\n            if (names[key] === hex) {\n                return key;\n            }\n        }\n        return false;\n    };\n    TinyColor.prototype.toString = function (format) {\n        var formatSet = Boolean(format);\n        format = format || this.format;\n        var formattedString = false;\n        var hasAlpha = this.a < 1 && this.a >= 0;\n        var needsAlphaFormat = !formatSet && hasAlpha && (format.startsWith('hex') || format === 'name');\n        if (needsAlphaFormat) {\n            if (format === 'name' && this.a === 0) {\n                return this.toName();\n            }\n            return this.toRgbString();\n        }\n        if (format === 'rgb') {\n            formattedString = this.toRgbString();\n        }\n        if (format === 'prgb') {\n            formattedString = this.toPercentageRgbString();\n        }\n        if (format === 'hex' || format === 'hex6') {\n            formattedString = this.toHexString();\n        }\n        if (format === 'hex3') {\n            formattedString = this.toHexString(true);\n        }\n        if (format === 'hex4') {\n            formattedString = this.toHex8String(true);\n        }\n        if (format === 'hex8') {\n            formattedString = this.toHex8String();\n        }\n        if (format === 'name') {\n            formattedString = this.toName();\n        }\n        if (format === 'hsl') {\n            formattedString = this.toHslString();\n        }\n        if (format === 'hsv') {\n            formattedString = this.toHsvString();\n        }\n        return formattedString || this.toHexString();\n    };\n    TinyColor.prototype.clone = function () {\n        return new TinyColor(this.toString());\n    };\n    TinyColor.prototype.lighten = function (amount) {\n        if (amount === void 0) { amount = 10; }\n        var hsl = this.toHsl();\n        hsl.l += amount / 100;\n        hsl.l = clamp01(hsl.l);\n        return new TinyColor(hsl);\n    };\n    TinyColor.prototype.brighten = function (amount) {\n        if (amount === void 0) { amount = 10; }\n        var rgb = this.toRgb();\n        rgb.r = Math.max(0, Math.min(255, rgb.r - Math.round(255 * -(amount / 100))));\n        rgb.g = Math.max(0, Math.min(255, rgb.g - Math.round(255 * -(amount / 100))));\n        rgb.b = Math.max(0, Math.min(255, rgb.b - Math.round(255 * -(amount / 100))));\n        return new TinyColor(rgb);\n    };\n    TinyColor.prototype.darken = function (amount) {\n        if (amount === void 0) { amount = 10; }\n        var hsl = this.toHsl();\n        hsl.l -= amount / 100;\n        hsl.l = clamp01(hsl.l);\n        return new TinyColor(hsl);\n    };\n    TinyColor.prototype.tint = function (amount) {\n        if (amount === void 0) { amount = 10; }\n        return this.mix('white', amount);\n    };\n    TinyColor.prototype.shade = function (amount) {\n        if (amount === void 0) { amount = 10; }\n        return this.mix('black', amount);\n    };\n    TinyColor.prototype.desaturate = function (amount) {\n        if (amount === void 0) { amount = 10; }\n        var hsl = this.toHsl();\n        hsl.s -= amount / 100;\n        hsl.s = clamp01(hsl.s);\n        return new TinyColor(hsl);\n    };\n    TinyColor.prototype.saturate = function (amount) {\n        if (amount === void 0) { amount = 10; }\n        var hsl = this.toHsl();\n        hsl.s += amount / 100;\n        hsl.s = clamp01(hsl.s);\n        return new TinyColor(hsl);\n    };\n    TinyColor.prototype.greyscale = function () {\n        return this.desaturate(100);\n    };\n    TinyColor.prototype.spin = function (amount) {\n        var hsl = this.toHsl();\n        var hue = (hsl.h + amount) % 360;\n        hsl.h = hue < 0 ? 360 + hue : hue;\n        return new TinyColor(hsl);\n    };\n    TinyColor.prototype.mix = function (color, amount) {\n        if (amount === void 0) { amount = 50; }\n        var rgb1 = this.toRgb();\n        var rgb2 = new TinyColor(color).toRgb();\n        var p = amount / 100;\n        var rgba = {\n            r: ((rgb2.r - rgb1.r) * p) + rgb1.r,\n            g: ((rgb2.g - rgb1.g) * p) + rgb1.g,\n            b: ((rgb2.b - rgb1.b) * p) + rgb1.b,\n            a: ((rgb2.a - rgb1.a) * p) + rgb1.a,\n        };\n        return new TinyColor(rgba);\n    };\n    TinyColor.prototype.analogous = function (results, slices) {\n        if (results === void 0) { results = 6; }\n        if (slices === void 0) { slices = 30; }\n        var hsl = this.toHsl();\n        var part = 360 / slices;\n        var ret = [this];\n        for (hsl.h = (hsl.h - ((part * results) >> 1) + 720) % 360; --results;) {\n            hsl.h = (hsl.h + part) % 360;\n            ret.push(new TinyColor(hsl));\n        }\n        return ret;\n    };\n    TinyColor.prototype.complement = function () {\n        var hsl = this.toHsl();\n        hsl.h = (hsl.h + 180) % 360;\n        return new TinyColor(hsl);\n    };\n    TinyColor.prototype.monochromatic = function (results) {\n        if (results === void 0) { results = 6; }\n        var hsv = this.toHsv();\n        var h = hsv.h;\n        var s = hsv.s;\n        var v = hsv.v;\n        var res = [];\n        var modification = 1 / results;\n        while (results--) {\n            res.push(new TinyColor({ h: h, s: s, v: v }));\n            v = (v + modification) % 1;\n        }\n        return res;\n    };\n    TinyColor.prototype.splitcomplement = function () {\n        var hsl = this.toHsl();\n        var h = hsl.h;\n        return [\n            this,\n            new TinyColor({ h: (h + 72) % 360, s: hsl.s, l: hsl.l }),\n            new TinyColor({ h: (h + 216) % 360, s: hsl.s, l: hsl.l }),\n        ];\n    };\n    TinyColor.prototype.triad = function () {\n        return this.polyad(3);\n    };\n    TinyColor.prototype.tetrad = function () {\n        return this.polyad(4);\n    };\n    TinyColor.prototype.polyad = function (n) {\n        var hsl = this.toHsl();\n        var h = hsl.h;\n        var result = [this];\n        var increment = 360 / n;\n        for (var i = 1; i < n; i++) {\n            result.push(new TinyColor({ h: (h + (i * increment)) % 360, s: hsl.s, l: hsl.l }));\n        }\n        return result;\n    };\n    TinyColor.prototype.equals = function (color) {\n        return this.toRgbString() === new TinyColor(color).toRgbString();\n    };\n    return TinyColor;\n}());\nexport { TinyColor };\nexport function tinycolor(color, opts) {\n    if (color === void 0) { color = ''; }\n    if (opts === void 0) { opts = {}; }\n    return new TinyColor(color, opts);\n}\n","import { TinyColor } from './index';\nexport function readability(color1, color2) {\n    var c1 = new TinyColor(color1);\n    var c2 = new TinyColor(color2);\n    return ((Math.max(c1.getLuminance(), c2.getLuminance()) + 0.05) /\n        (Math.min(c1.getLuminance(), c2.getLuminance()) + 0.05));\n}\nexport function isReadable(color1, color2, wcag2) {\n    if (wcag2 === void 0) { wcag2 = { level: 'AA', size: 'small' }; }\n    var readabilityLevel = readability(color1, color2);\n    switch ((wcag2.level || 'AA') + (wcag2.size || 'small')) {\n        case 'AAsmall':\n        case 'AAAlarge':\n            return readabilityLevel >= 4.5;\n        case 'AAlarge':\n            return readabilityLevel >= 3;\n        case 'AAAsmall':\n            return readabilityLevel >= 7;\n        default:\n            return false;\n    }\n}\nexport function mostReadable(baseColor, colorList, args) {\n    if (args === void 0) { args = { includeFallbackColors: false, level: 'AA', size: 'small' }; }\n    var bestColor = null;\n    var bestScore = 0;\n    var includeFallbackColors = args.includeFallbackColors, level = args.level, size = args.size;\n    for (var _i = 0, colorList_1 = colorList; _i < colorList_1.length; _i++) {\n        var color = colorList_1[_i];\n        var score = readability(baseColor, color);\n        if (score > bestScore) {\n            bestScore = score;\n            bestColor = new TinyColor(color);\n        }\n    }\n    if (isReadable(baseColor, bestColor, { level: level, size: size }) || !includeFallbackColors) {\n        return bestColor;\n    }\n    args.includeFallbackColors = false;\n    return mostReadable(baseColor, ['#fff', '#000'], args);\n}\n","import { rgbaToArgbHex } from './conversion';\nimport { TinyColor } from './index';\nexport function toMsFilter(firstColor, secondColor) {\n    var color = new TinyColor(firstColor);\n    var hex8String = '#' + rgbaToArgbHex(color.r, color.g, color.b, color.a);\n    var secondHex8String = hex8String;\n    var gradientType = color.gradientType ? 'GradientType = 1, ' : '';\n    if (secondColor) {\n        var s = new TinyColor(secondColor);\n        secondHex8String = '#' + rgbaToArgbHex(s.r, s.g, s.b, s.a);\n    }\n    return \"progid:DXImageTransform.Microsoft.gradient(\" + gradientType + \"startColorstr=\" + hex8String + \",endColorstr=\" + secondHex8String + \")\";\n}\n","import { TinyColor } from './index';\nimport { convertToPercentage } from './util';\nexport function fromRatio(ratio, opts) {\n    var newColor = {\n        r: convertToPercentage(ratio.r),\n        g: convertToPercentage(ratio.g),\n        b: convertToPercentage(ratio.b),\n    };\n    if (ratio.a !== undefined) {\n        newColor.a = Number(ratio.a);\n    }\n    return new TinyColor(newColor, opts);\n}\nexport function legacyRandom() {\n    return new TinyColor({\n        r: Math.random(),\n        g: Math.random(),\n        b: Math.random(),\n    });\n}\n","import { TinyColor } from './index';\nexport function random(options) {\n    if (options === void 0) { options = {}; }\n    if (options.count !== undefined && options.count !== null) {\n        var totalColors = options.count;\n        var colors = [];\n        options.count = undefined;\n        while (totalColors > colors.length) {\n            options.count = null;\n            if (options.seed) {\n                options.seed += 1;\n            }\n            colors.push(random(options));\n        }\n        options.count = totalColors;\n        return colors;\n    }\n    var h = pickHue(options.hue, options.seed);\n    var s = pickSaturation(h, options);\n    var v = pickBrightness(h, s, options);\n    var res = { h: h, s: s, v: v };\n    if (options.alpha !== undefined) {\n        res.a = options.alpha;\n    }\n    return new TinyColor(res);\n}\nfunction pickHue(hue, seed) {\n    var hueRange = getHueRange(hue);\n    var res = randomWithin(hueRange, seed);\n    if (res < 0) {\n        res = 360 + res;\n    }\n    return res;\n}\nfunction pickSaturation(hue, options) {\n    if (options.hue === 'monochrome') {\n        return 0;\n    }\n    if (options.luminosity === 'random') {\n        return randomWithin([0, 100], options.seed);\n    }\n    var saturationRange = getColorInfo(hue).saturationRange;\n    var sMin = saturationRange[0];\n    var sMax = saturationRange[1];\n    switch (options.luminosity) {\n        case 'bright':\n            sMin = 55;\n            break;\n        case 'dark':\n            sMin = sMax - 10;\n            break;\n        case 'light':\n            sMax = 55;\n            break;\n        default:\n            break;\n    }\n    return randomWithin([sMin, sMax], options.seed);\n}\nfunction pickBrightness(H, S, options) {\n    var bMin = getMinimumBrightness(H, S);\n    var bMax = 100;\n    switch (options.luminosity) {\n        case 'dark':\n            bMax = bMin + 20;\n            break;\n        case 'light':\n            bMin = (bMax + bMin) / 2;\n            break;\n        case 'random':\n            bMin = 0;\n            bMax = 100;\n            break;\n        default:\n            break;\n    }\n    return randomWithin([bMin, bMax], options.seed);\n}\nfunction getMinimumBrightness(H, S) {\n    var lowerBounds = getColorInfo(H).lowerBounds;\n    for (var i = 0; i < lowerBounds.length - 1; i++) {\n        var s1 = lowerBounds[i][0];\n        var v1 = lowerBounds[i][1];\n        var s2 = lowerBounds[i + 1][0];\n        var v2 = lowerBounds[i + 1][1];\n        if (S >= s1 && S <= s2) {\n            var m = (v2 - v1) / (s2 - s1);\n            var b = v1 - (m * s1);\n            return (m * S) + b;\n        }\n    }\n    return 0;\n}\nfunction getHueRange(colorInput) {\n    var num = parseInt(colorInput, 10);\n    if (!Number.isNaN(num) && num < 360 && num > 0) {\n        return [num, num];\n    }\n    if (typeof colorInput === 'string') {\n        var namedColor = bounds.find(function (n) { return n.name === colorInput; });\n        if (namedColor) {\n            var color = defineColor(namedColor);\n            if (color.hueRange) {\n                return color.hueRange;\n            }\n        }\n        var parsed = new TinyColor(colorInput);\n        if (parsed.isValid) {\n            var hue = parsed.toHsv().h;\n            return [hue, hue];\n        }\n    }\n    return [0, 360];\n}\nfunction getColorInfo(hue) {\n    if (hue >= 334 && hue <= 360) {\n        hue -= 360;\n    }\n    for (var _i = 0, bounds_1 = bounds; _i < bounds_1.length; _i++) {\n        var bound = bounds_1[_i];\n        var color = defineColor(bound);\n        if (color.hueRange && hue >= color.hueRange[0] && hue <= color.hueRange[1]) {\n            return color;\n        }\n    }\n    throw Error('Color not found');\n}\nfunction randomWithin(range, seed) {\n    if (seed === undefined) {\n        return Math.floor(range[0] + (Math.random() * (range[1] + 1 - range[0])));\n    }\n    var max = range[1] || 1;\n    var min = range[0] || 0;\n    seed = ((seed * 9301) + 49297) % 233280;\n    var rnd = seed / 233280.0;\n    return Math.floor(min + (rnd * (max - min)));\n}\nfunction defineColor(bound) {\n    var sMin = bound.lowerBounds[0][0];\n    var sMax = bound.lowerBounds[bound.lowerBounds.length - 1][0];\n    var bMin = bound.lowerBounds[bound.lowerBounds.length - 1][1];\n    var bMax = bound.lowerBounds[0][1];\n    return {\n        name: bound.name,\n        hueRange: bound.hueRange,\n        lowerBounds: bound.lowerBounds,\n        saturationRange: [sMin, sMax],\n        brightnessRange: [bMin, bMax],\n    };\n}\nexport var bounds = [\n    {\n        name: 'monochrome',\n        hueRange: null,\n        lowerBounds: [[0, 0], [100, 0]],\n    },\n    {\n        name: 'red',\n        hueRange: [-26, 18],\n        lowerBounds: [\n            [20, 100],\n            [30, 92],\n            [40, 89],\n            [50, 85],\n            [60, 78],\n            [70, 70],\n            [80, 60],\n            [90, 55],\n            [100, 50],\n        ],\n    },\n    {\n        name: 'orange',\n        hueRange: [19, 46],\n        lowerBounds: [[20, 100], [30, 93], [40, 88], [50, 86], [60, 85], [70, 70], [100, 70]],\n    },\n    {\n        name: 'yellow',\n        hueRange: [47, 62],\n        lowerBounds: [[25, 100], [40, 94], [50, 89], [60, 86], [70, 84], [80, 82], [90, 80], [100, 75]],\n    },\n    {\n        name: 'green',\n        hueRange: [63, 178],\n        lowerBounds: [[30, 100], [40, 90], [50, 85], [60, 81], [70, 74], [80, 64], [90, 50], [100, 40]],\n    },\n    {\n        name: 'blue',\n        hueRange: [179, 257],\n        lowerBounds: [\n            [20, 100],\n            [30, 86],\n            [40, 80],\n            [50, 74],\n            [60, 60],\n            [70, 52],\n            [80, 44],\n            [90, 39],\n            [100, 35],\n        ],\n    },\n    {\n        name: 'purple',\n        hueRange: [258, 282],\n        lowerBounds: [\n            [20, 100],\n            [30, 87],\n            [40, 79],\n            [50, 70],\n            [60, 65],\n            [70, 59],\n            [80, 52],\n            [90, 45],\n            [100, 42],\n        ],\n    },\n    {\n        name: 'pink',\n        hueRange: [283, 334],\n        lowerBounds: [[20, 100], [30, 90], [40, 86], [60, 84], [80, 80], [90, 75], [100, 73]],\n    },\n];\n","import { tinycolor } from './index';\nexport * from './index';\nexport * from './css-color-names';\nexport * from './readability';\nexport * from './to-ms-filter';\nexport * from './from-ratio';\nexport * from './format-input';\nexport * from './random';\nexport default tinycolor;\n","import { Vec2 } from \"./math/vec2\";\r\nimport { Delaunay, Voronoi } from \"d3-delaunay\";\r\nimport { lerp } from './math/mathf';\r\nimport { TinyColor } from '@ctrl/tinycolor';\r\n\r\nconst NUM_POINTS = 5000;\r\nconst WIDTH = 1280;\r\nconst HEIGHT = 720;\r\n\r\nconst NUM_PLATES = 10;\r\nconst PLATE_COLOR_MAP = [\r\n  \"black\",\r\n  \"blue\",\r\n  \"red\",\r\n  \"purple\",\r\n  \"green\",\r\n  \"teal\",\r\n  \"navy\",\r\n  \"yellow\",\r\n  \"magenta\",\r\n  \"white\",\r\n  \"pink\"\r\n];\r\nconst NUM_PLATE_STEPS = 10;\r\nconst PLATE_ANGLE_COS = 0;\r\nconst MAX_HEIGHT_DIFF = 5;\r\n\r\nconst LINELESS = true;\r\n\r\ninterface IPoint {\r\n  loc: Vec2;\r\n  plateId: number;\r\n  height: number;\r\n}\r\n\r\nlet canvas = document.getElementById(\"canvas\") as HTMLCanvasElement;\r\nlet ctx = canvas.getContext(\"2d\");\r\n\r\nfunction choose<T>(arr: Array<T>): number {\r\n  return Math.floor(Math.random() * arr.length);\r\n}\r\n\r\nfunction generatePoints(): IPoint[] {\r\n  let res = new Array<IPoint>(NUM_POINTS);\r\n  for (let i = 0; i < NUM_POINTS; i++) {\r\n    res[i] = {\r\n      loc: {\r\n        x: Math.random() * WIDTH,\r\n        y: Math.random() * HEIGHT\r\n      },\r\n      plateId: -1,\r\n      height: 0,\r\n    };\r\n  }\r\n  return res;\r\n}\r\n\r\nfunction dist(p1: Vec2, p2: Vec2): number {\r\n  return Math.sqrt((p1.x - p2.x) ** 2 + (p1.y - p2.y) ** 2);\r\n}\r\n\r\nfunction floodFill(points: IPoint[]): IPoint[] {\r\n  let unmapped_points = [...points];\r\n  let res = [];\r\n  for (let i = 0; i < NUM_PLATES; i++) {\r\n    let p_i = choose(unmapped_points);\r\n    let p = unmapped_points.splice(p_i, 1)[0];\r\n    p.plateId = i;\r\n    res.push(p);\r\n  }\r\n  while (unmapped_points.length > 0) {\r\n    let p_i = choose(unmapped_points);\r\n    let p = unmapped_points.splice(p_i, 1)[0];\r\n    let closest_i = -1;\r\n    let closest_dist = 0;\r\n    let rl = res.length;\r\n    for (let i = 0; i < rl; i++) {\r\n      let curr = res[i];\r\n      let d = dist(curr.loc, p.loc);\r\n      if (closest_i == -1 || d < closest_dist) {\r\n        closest_dist = d;\r\n        closest_i = i;\r\n      }\r\n    }\r\n    p.plateId = res[closest_i].plateId;\r\n    res.push(p);\r\n  }\r\n\r\n  return res;\r\n}\r\n\r\nfunction genNeighbors(voronoi: Voronoi<number[]>): number[][] {\r\n  let res = [];\r\n\r\n  let cells: number[][][] = [];\r\n  for (let i = 0; i < NUM_POINTS; i++) {\r\n    cells.push(voronoi.cellPolygon(i));\r\n  }\r\n\r\n  for (let i = 0; i < NUM_POINTS; i++) {\r\n    let cell_poly = voronoi.cellPolygon(i);\r\n    let neighbor_cells = cells.map((val, idx) => ({val, idx})).filter(({val}) => {\r\n      let matched_verts = val.filter(pnt => cell_poly.filter(pnt2 => pnt[0] == pnt2[0] && pnt[1] == pnt[1]).length > 0).length;\r\n      return matched_verts == 2\r\n    }).map(val => val.idx);\r\n    res.push(neighbor_cells);\r\n  }\r\n  \r\n  return res;\r\n}\r\n\r\nfunction getRandom(start, end) {\r\n  return Math.floor(Math.random() * (end - start + 1) + start)\r\n}\r\n\r\nfunction shuffleInPlace<T>(array: T[]): T[] {\r\n  // if it's 1 or 0 items, just return\r\n  if (array.length <= 1) return array;\r\n\r\n  // For each index in array\r\n  for (let i = 0; i < array.length; i++) {\r\n\r\n    // choose a random not-yet-placed item to place there\r\n    // must be an item AFTER the current item, because the stuff\r\n    // before has all already been placed\r\n    const randomChoiceIndex = getRandom(i, array.length - 1);\r\n\r\n    // place our random choice in the spot by swapping\r\n    [array[i], array[randomChoiceIndex]] = [array[randomChoiceIndex], array[i]];\r\n  }\r\n\r\n  return array;\r\n}\r\n\r\n\r\nfunction range(start, end): number[] { return Array.from({length: (end - start)}, (v, k) => k + start); }\r\n\r\nfunction heightGen(voronoi: Voronoi<number[]>, points: IPoint[]): IPoint[] {\r\n  let plateDirections: Vec2[] = [];\r\n  for (let plate_idx = 0; plate_idx < NUM_PLATES; plate_idx++) {\r\n    plateDirections.push(new Vec2(\r\n      Math.random() * 2 - 1,\r\n       Math.random() * 2 - 1\r\n    ));\r\n  }\r\n\r\n  let neighbors = genNeighbors(voronoi);\r\n\r\n  let r = range(0, NUM_POINTS);\r\n\r\n  for (let i = 0; i < NUM_PLATE_STEPS; i++) {\r\n    shuffleInPlace(r);\r\n    for (let cell of r) {\r\n      let cell_point = points[cell];\r\n      let neighbor_cells = neighbors[cell];\r\n      shuffleInPlace(neighbor_cells);\r\n      for (var neighbor_cell_idx of neighbor_cells) {\r\n        let neighbor_cell_point = points[neighbor_cell_idx];\r\n        let dir = new Vec2(\r\n          neighbor_cell_point.loc.x - cell_point.loc.x,\r\n          neighbor_cell_point.loc.y - cell_point.loc.y,\r\n        );\r\n        let cell_plate_dir = plateDirections[cell_point.plateId];\r\n        let dot = dir.x * cell_plate_dir.x + dir.y * cell_plate_dir.y;\r\n        if (dot > PLATE_ANGLE_COS) {\r\n          neighbor_cell_point.height++;\r\n          cell_point.height++;\r\n        } else if (dot < -PLATE_ANGLE_COS) {\r\n          neighbor_cell_point.height--;\r\n          cell_point.height--;\r\n        }\r\n\r\n        if (Math.abs(cell_point.height - neighbor_cell_point.height) > MAX_HEIGHT_DIFF) {\r\n          let avg = (cell_point.height + neighbor_cell_point.height) / 2;\r\n          cell_point.height = (cell_point.height + avg) / 2;\r\n          neighbor_cell_point.height = (neighbor_cell_point.height + avg) / 2;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  return points;\r\n}\r\n\r\nfunction main() {\r\n  let points = generatePoints();\r\n  floodFill(points);\r\n  let voronoi_points = points.map(val => [val.loc.x, val.loc.y]);\r\n  let delaunay = Delaunay.from(voronoi_points);\r\n  let voronoi = delaunay.voronoi([0, 0, WIDTH, HEIGHT]);\r\n\r\n  for (let i = 0; i < NUM_POINTS; i++) {\r\n    let cp = voronoi.cellPolygon(i);\r\n    points[i].loc.x = cp.reduce((agg, val) => agg + val[0], 0) / cp.length;\r\n    points[i].loc.y = cp.reduce((agg, val) => agg + val[1], 0) / cp.length;\r\n  }\r\n\r\n  voronoi_points = points.map(val => [val.loc.x, val.loc.y]);\r\n  delaunay = Delaunay.from(voronoi_points);\r\n  voronoi = delaunay.voronoi([0, 0, WIDTH, HEIGHT]);\r\n\r\n  heightGen(voronoi, points);\r\n\r\n  let min_height = points.reduce((agg, curr) => (curr.height < agg ? curr.height : agg), points[0].height);\r\n  let max_height = points.reduce((agg, curr) => (curr.height > agg ? curr.height : agg), points[0].height);\r\n  let avg_height = points.reduce((agg, curr) => (agg + curr.height), 0) / points.length;\r\n\r\n  ctx.clearRect(0, 0, 800, 600);\r\n\r\n  ctx.strokeStyle = \"black\";\r\n  for (let plate_idx = 0; plate_idx < NUM_PLATES; plate_idx++) {\r\n    console.log(\"Rendering \" + ctx.fillStyle);\r\n    let pts = points\r\n      .map((val, idx) => ({ p: val, idx }))\r\n      .filter(val => val.p.plateId === plate_idx);\r\n    let pl = pts.length;\r\n    for (let i = 0; i < pl; i++) {\r\n      ctx.beginPath();\r\n      \r\n      let p = pts[i];\r\n      voronoi.renderCell(p.idx, ctx);\r\n\r\n      let height_percent = 100 - (100 * (p.p.height - min_height) / (max_height - min_height));\r\n      let color: TinyColor;\r\n      if (p.p.height > avg_height) {\r\n        color = new TinyColor('brown');\r\n      } else {\r\n        color = new TinyColor('blue');\r\n      }\r\n      color = color.shade(height_percent / 1.2);\r\n\r\n      ctx.fillStyle = color.toRgbString();\r\n      // ctx.fillStyle = `rgb(${height_percent}%, ${height_percent}%, ${height_percent}%)`\r\n      ctx.fill();\r\n\r\n      if (LINELESS) { ctx.strokeStyle = ctx.fillStyle; }\r\n      ctx.stroke();\r\n    }\r\n\r\n    // ctx.fillStyle = PLATE_COLOR_MAP[plate_idx];\r\n    // ctx.fill();\r\n    // ctx.stroke();\r\n    \r\n  }\r\n}\r\n\r\nmain();"]}